{"ast":null,"code":"var _jsxFileName = \"D:\\\\it_inventory.localhost\\\\frontend\\\\src\\\\components\\\\AssetDetails.js\",\n  _s = $RefreshSig$();\n// frontend/src/components/AssetDetails.js\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Container, Typography, Box, Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Alert, CircularProgress, Grid, TextField, FormControl, InputLabel, Select, MenuItem, FormHelperText } from '@mui/material';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config'; // Импорт базового URL\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AssetDetails = ({\n  currentUser\n}) => {\n  _s();\n  var _types$find;\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [asset, setAsset] = useState({\n    serial_number: '',\n    inventory_number: '',\n    type_id: '',\n    brand: '',\n    model: '',\n    status_id: '',\n    actual_user: '',\n    responsible_person: '',\n    department_id: '',\n    room: '',\n    purchase_date: '',\n    comments: '',\n    diagonal: '',\n    CPU: '',\n    RAM: '',\n    Drive: '',\n    OS: '',\n    IP_address: '',\n    number: ''\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n  const [deleteError, setDeleteError] = useState('');\n  const [qrCodeUrl, setQrCodeUrl] = useState('');\n  const [types, setTypes] = useState([]);\n  const [statuses, setStatuses] = useState([]);\n  const [employees, setEmployees] = useState([]);\n  const [departments, setDepartments] = useState([]);\n  const [typeProperties, setTypeProperties] = useState([]);\n  const [dynamicFields, setDynamicFields] = useState([]);\n  const [errors, setErrors] = useState({});\n\n  // Получение текущего пользователя\n  useEffect(() => {\n    const fetchCurrentUser = async () => {\n      try {\n        const res = await axios.get(`${API_BASE_URL}/api/current_user`, {\n          withCredentials: true\n        });\n        // currentUser уже передаётся как пропс, но можно обновить, если нужно\n      } catch (err) {\n        console.error('Ошибка при получении данных пользователя:', err);\n      }\n    };\n    fetchCurrentUser();\n  }, []);\n\n  // Загрузка данных актива\n  useEffect(() => {\n    const fetchAsset = async () => {\n      try {\n        const res = await axios.get(`${API_BASE_URL}/api/assets/${id}`, {\n          withCredentials: true\n        });\n        const data = res.data;\n\n        // Инициализация состояния актива\n        setAsset({\n          ...data,\n          diagonal: data.diagonal || '',\n          CPU: data.CPU || '',\n          RAM: data.RAM || '',\n          Drive: data.Drive || '',\n          OS: data.OS || '',\n          IP_address: data.IP_address || '',\n          number: data.number || ''\n        });\n      } catch (err) {\n        setError('Не удалось загрузить актив');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const fetchTypes = async () => {\n      try {\n        const res = await axios.get(`${API_BASE_URL}/api/types`, {\n          withCredentials: true\n        });\n        setTypes(res.data);\n      } catch (err) {\n        console.error('Ошибка при загрузке типов:', err);\n      }\n    };\n    const fetchStatuses = async () => {\n      try {\n        const res = await axios.get(`${API_BASE_URL}/api/statuses`, {\n          withCredentials: true\n        });\n        setStatuses(res.data);\n      } catch (err) {\n        console.error('Ошибка при загрузке статусов:', err);\n      }\n    };\n    const fetchEmployees = async () => {\n      try {\n        const res = await axios.get(`${API_BASE_URL}/api/employees`, {\n          withCredentials: true\n        });\n        setEmployees(res.data);\n      } catch (err) {\n        console.error('Ошибка при загрузке сотрудников:', err);\n      }\n    };\n    const fetchDepartments = async () => {\n      try {\n        const res = await axios.get(`${API_BASE_URL}/api/departments`, {\n          withCredentials: true\n        });\n        setDepartments(res.data);\n      } catch (err) {\n        console.error('Ошибка при загрузке отделов:', err);\n      }\n    };\n    fetchAsset();\n    fetchTypes();\n    fetchStatuses();\n    fetchEmployees();\n    fetchDepartments();\n  }, [id]);\n\n  // Загрузка свойств типа при изменении type_id\n  useEffect(() => {\n    const fetchTypeProperties = async () => {\n      if (!asset.type_id) {\n        setTypeProperties([]);\n        setDynamicFields([]);\n        return;\n      }\n      try {\n        const res = await axios.get(`${API_BASE_URL}/api/types/${asset.type_id}/properties`, {\n          withCredentials: true\n        });\n        setTypeProperties(res.data);\n        const fields = res.data.map(prop => {\n          const fieldName = mapPropertyNameToAssetField(prop.name);\n          return {\n            id: prop.id,\n            name: prop.name,\n            fieldName: fieldName,\n            value: asset[fieldName] || ''\n          };\n        });\n        setDynamicFields(fields);\n      } catch (err) {\n        console.error('Ошибка при загрузке свойств типа:', err);\n        setTypeProperties([]);\n        setDynamicFields([]);\n      }\n    };\n    fetchTypeProperties();\n  }, [asset.type_id]);\n\n  // Маппинг названий свойств на поля в объекте asset\n  const mapPropertyNameToAssetField = propertyName => {\n    const mapping = {\n      'Диагональ': 'diagonal',\n      'Процессор': 'CPU',\n      'Оперативная память': 'RAM',\n      'Диск': 'Drive',\n      'ОС': 'OS',\n      'IP-адрес': 'IP_address',\n      'Внутренний номер': 'number'\n    };\n    return mapping[propertyName] || propertyName.toLowerCase().replace(/\\s+/g, '_');\n  };\n\n  // Обновление значения динамического поля\n  const handleDynamicFieldChange = (fieldName, value) => {\n    setAsset(prev => ({\n      ...prev,\n      [fieldName]: value\n    }));\n    setDynamicFields(prev => prev.map(f => f.fieldName === fieldName ? {\n      ...f,\n      value\n    } : f));\n  };\n\n  // Рендеринг динамических полей\n  const renderDynamicField = field => {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        label: field.name,\n        name: field.fieldName,\n        value: field.value,\n        onChange: e => handleDynamicFieldChange(field.fieldName, e.target.value),\n        fullWidth: true,\n        margin: \"normal\",\n        disabled: !currentUser || currentUser.role !== 'admin'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)\n    }, field.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Обработчики изменений обычных полей\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setAsset(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Обработчик сохранения\n  const handleSave = async () => {\n    const dataToSend = {\n      serial_number: asset.serial_number,\n      inventory_number: asset.inventory_number,\n      type_id: asset.type_id,\n      brand: asset.brand,\n      model: asset.model,\n      status_id: asset.status_id,\n      actual_user: asset.actual_user,\n      responsible_person: asset.responsible_person,\n      department_id: asset.department_id,\n      room: asset.room,\n      purchase_date: asset.purchase_date,\n      comments: asset.comments,\n      diagonal: asset.diagonal,\n      CPU: asset.CPU,\n      RAM: asset.RAM,\n      Drive: asset.Drive,\n      OS: asset.OS,\n      IP_address: asset.IP_address,\n      number: asset.number\n    };\n    try {\n      await axios.put(`${API_BASE_URL}/api/assets/${id}`, dataToSend, {\n        withCredentials: true\n      });\n      alert('Данные успешно обновлены');\n    } catch (err) {\n      console.error('Ошибка при сохранении:', err);\n      alert('Не удалось сохранить изменения');\n    }\n  };\n\n  // Подтверждение удаления\n  const handleDelete = async () => {\n    try {\n      await axios.delete(`${API_BASE_URL}/api/assets/${id}`, {\n        withCredentials: true\n      });\n      alert('Актив успешно удален');\n      navigate('/assets');\n    } catch (err) {\n      console.error('Ошибка при удалении актива:', err);\n      setDeleteError('Не удалось удалить актив. Возможно, он используется в других операциях.');\n    }\n  };\n\n  // Генерация QR-кода\n  useEffect(() => {\n    const generateQRCode = async () => {\n      try {\n        const url = `${window.location.origin}/assets/${id}`;\n        const response = await axios.post(`${API_BASE_URL}/api/generate-qr`, {\n          text: url\n        }, {\n          responseType: 'blob',\n          withCredentials: true\n        });\n        const qrUrl = URL.createObjectURL(response.data);\n        setQrCodeUrl(qrUrl);\n      } catch (err) {\n        console.error('Ошибка при генерации QR-кода:', err);\n      }\n    };\n    if (id) generateQRCode();\n  }, [id]);\n\n  // Очистка URL объекта\n  useEffect(() => {\n    return () => {\n      if (qrCodeUrl) URL.revokeObjectURL(qrCodeUrl);\n    };\n  }, [qrCodeUrl]);\n  if (loading) return /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 297,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(Alert, {\n    severity: \"error\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 298,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    style: {\n      marginTop: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      mb: 3,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        children: \"\\u041A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0430 \\u0430\\u043A\\u0442\\u0438\\u0432\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        startIcon: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          fill: \"currentColor\",\n          viewBox: \"0 0 16 16\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM4 1a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V1z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M11 5a1 1 0 1 1 0 2h-1v1a1 1 0 1 1-2 0v-1H7a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v1h1z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 22\n        }, this),\n        onClick: () => navigate('/assets/new'),\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0430\\u043A\\u0442\\u0438\\u0432\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 8,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          mb: 3,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: [((_types$find = types.find(t => t.id === asset.type_id)) === null || _types$find === void 0 ? void 0 : _types$find.name) || 'Без типа', \" \", asset.brand, \" \", asset.model]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: \"\\u0421\\u0435\\u0440\\u0438\\u0439\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440\",\n              name: \"serial_number\",\n              value: asset.serial_number,\n              onChange: handleChange,\n              fullWidth: true,\n              margin: \"normal\",\n              disabled: !currentUser || currentUser.role !== 'admin'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: \"\\u0418\\u043D\\u0432\\u0435\\u043D\\u0442\\u0430\\u0440\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440\",\n              name: \"inventory_number\",\n              value: asset.inventory_number,\n              onChange: handleChange,\n              fullWidth: true,\n              margin: \"normal\",\n              disabled: !currentUser || currentUser.role !== 'admin'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              margin: \"normal\",\n              disabled: !currentUser || currentUser.role !== 'admin',\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"\\u0422\\u0438\\u043F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                name: \"type_id\",\n                value: asset.type_id,\n                onChange: handleChange,\n                label: \"\\u0422\\u0438\\u043F\",\n                children: types.map(type => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: type.id,\n                  children: type.name\n                }, type.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: \"\\u0424\\u0438\\u0440\\u043C\\u0430\",\n              name: \"brand\",\n              value: asset.brand,\n              onChange: handleChange,\n              fullWidth: true,\n              margin: \"normal\",\n              disabled: !currentUser || currentUser.role !== 'admin'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: \"\\u041C\\u043E\\u0434\\u0435\\u043B\\u044C\",\n              name: \"model\",\n              value: asset.model,\n              onChange: handleChange,\n              fullWidth: true,\n              margin: \"normal\",\n              disabled: !currentUser || currentUser.role !== 'admin'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              margin: \"normal\",\n              disabled: !currentUser || currentUser.role !== 'admin',\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                name: \"status_id\",\n                value: asset.status_id,\n                onChange: handleChange,\n                label: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\",\n                children: statuses.map(status => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: status.id,\n                  children: status.name\n                }, status.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              margin: \"normal\",\n              disabled: !currentUser || currentUser.role !== 'admin',\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"\\u0424\\u0430\\u043A\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                name: \"actual_user\",\n                value: asset.actual_user,\n                onChange: handleChange,\n                label: \"\\u0424\\u0430\\u043A\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\",\n                children: employees.map(emp => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: emp.id,\n                  children: emp.full_name\n                }, emp.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              margin: \"normal\",\n              disabled: !currentUser || currentUser.role !== 'admin',\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"\\u041E\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u0435\\u043D\\u043D\\u044B\\u0439\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                name: \"responsible_person\",\n                value: asset.responsible_person,\n                onChange: handleChange,\n                label: \"\\u041E\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u0435\\u043D\\u043D\\u044B\\u0439\",\n                children: employees.map(emp => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: emp.id,\n                  children: emp.full_name\n                }, emp.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              margin: \"normal\",\n              disabled: !currentUser || currentUser.role !== 'admin',\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"\\u041E\\u0442\\u0434\\u0435\\u043B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                name: \"department_id\",\n                value: asset.department_id,\n                onChange: handleChange,\n                label: \"\\u041E\\u0442\\u0434\\u0435\\u043B\",\n                children: departments.map(dep => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: dep.id,\n                  children: dep.name\n                }, dep.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: \"\\u041F\\u043E\\u043C\\u0435\\u0449\\u0435\\u043D\\u0438\\u0435\",\n              name: \"room\",\n              value: asset.room,\n              onChange: handleChange,\n              fullWidth: true,\n              margin: \"normal\",\n              disabled: !currentUser || currentUser.role !== 'admin'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: \"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438\",\n              name: \"purchase_date\",\n              type: \"date\",\n              value: asset.purchase_date,\n              onChange: handleChange,\n              fullWidth: true,\n              margin: \"normal\",\n              InputLabelProps: {\n                shrink: true\n              },\n              disabled: !currentUser || currentUser.role !== 'admin'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 13\n          }, this), dynamicFields.map(renderDynamicField), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\",\n              name: \"comments\",\n              value: asset.comments,\n              onChange: handleChange,\n              fullWidth: true,\n              multiline: true,\n              rows: 3,\n              margin: \"normal\",\n              disabled: !currentUser || currentUser.role !== 'admin'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this), currentUser && currentUser.role === 'admin' && /*#__PURE__*/_jsxDEV(Box, {\n          mt: 3,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: handleSave,\n            children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 4,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          mb: 3,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"QR-\\u043A\\u043E\\u0434\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 13\n          }, this), qrCodeUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: qrCodeUrl,\n            alt: \"QR-\\u043A\\u043E\\u0434\",\n            style: {\n              maxWidth: '100%',\n              height: 'auto',\n              border: '1px solid #ddd',\n              borderRadius: 4\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n            children: \"\\u0413\\u0435\\u043D\\u0435\\u0440\\u0430\\u0446\\u0438\\u044F QR-\\u043A\\u043E\\u0434\\u0430...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"secondary\",\n            startIcon: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"16\",\n              height: \"16\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 16 16\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 26\n            }, this),\n            onClick: () => setOpenDeleteDialog(true),\n            disabled: !currentUser || currentUser.role !== 'admin',\n            fullWidth: true,\n            style: {\n              marginBottom: '10px'\n            },\n            children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0430\\u043A\\u0442\\u0438\\u0432\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            onClick: () => navigate('/assets'),\n            fullWidth: true,\n            children: \"\\u041D\\u0430\\u0437\\u0430\\u0434 \\u043A \\u0441\\u043F\\u0438\\u0441\\u043A\\u0443\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openDeleteDialog,\n      onClose: () => setOpenDeleteDialog(false),\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: \"\\u0412\\u044B \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u044D\\u0442\\u043E\\u0442 \\u0430\\u043A\\u0442\\u0438\\u0432? \\u042D\\u0442\\u043E \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435 \\u043D\\u0435\\u043B\\u044C\\u0437\\u044F \\u043E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 11\n        }, this), deleteError && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          style: {\n            marginTop: '10px'\n          },\n          children: deleteError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenDeleteDialog(false),\n          color: \"primary\",\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleDelete,\n          color: \"secondary\",\n          autoFocus: true,\n          children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 301,\n    columnNumber: 5\n  }, this);\n};\n_s(AssetDetails, \"4Q5uK18Eh9C+e2PGYVed3r+H/ig=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = AssetDetails;\nexport default AssetDetails;\nvar _c;\n$RefreshReg$(_c, \"AssetDetails\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Container","Typography","Box","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Alert","CircularProgress","Grid","TextField","FormControl","InputLabel","Select","MenuItem","FormHelperText","axios","API_BASE_URL","jsxDEV","_jsxDEV","AssetDetails","currentUser","_s","_types$find","id","navigate","asset","setAsset","serial_number","inventory_number","type_id","brand","model","status_id","actual_user","responsible_person","department_id","room","purchase_date","comments","diagonal","CPU","RAM","Drive","OS","IP_address","number","loading","setLoading","error","setError","openDeleteDialog","setOpenDeleteDialog","deleteError","setDeleteError","qrCodeUrl","setQrCodeUrl","types","setTypes","statuses","setStatuses","employees","setEmployees","departments","setDepartments","typeProperties","setTypeProperties","dynamicFields","setDynamicFields","errors","setErrors","fetchCurrentUser","res","get","withCredentials","err","console","fetchAsset","data","fetchTypes","fetchStatuses","fetchEmployees","fetchDepartments","fetchTypeProperties","fields","map","prop","fieldName","mapPropertyNameToAssetField","name","value","propertyName","mapping","toLowerCase","replace","handleDynamicFieldChange","prev","f","renderDynamicField","field","item","xs","sm","children","label","onChange","e","target","fullWidth","margin","disabled","role","fileName","_jsxFileName","lineNumber","columnNumber","handleChange","handleSave","dataToSend","put","alert","handleDelete","delete","generateQRCode","url","window","location","origin","response","post","text","responseType","qrUrl","URL","createObjectURL","revokeObjectURL","severity","maxWidth","style","marginTop","display","justifyContent","alignItems","mb","variant","startIcon","xmlns","width","height","fill","viewBox","d","onClick","container","spacing","md","gutterBottom","find","t","type","status","emp","full_name","dep","InputLabelProps","shrink","multiline","rows","mt","color","src","alt","border","borderRadius","marginBottom","open","onClose","autoFocus","_c","$RefreshReg$"],"sources":["D:/it_inventory.localhost/frontend/src/components/AssetDetails.js"],"sourcesContent":["// frontend/src/components/AssetDetails.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  Alert,\r\n  CircularProgress,\r\n  Grid,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  FormHelperText,\r\n} from '@mui/material';\r\nimport axios from 'axios';\r\nimport { API_BASE_URL } from '../config'; // Импорт базового URL\r\n\r\nconst AssetDetails = ({ currentUser }) => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [asset, setAsset] = useState({\r\n    serial_number: '',\r\n    inventory_number: '',\r\n    type_id: '',\r\n    brand: '',\r\n    model: '',\r\n    status_id: '',\r\n    actual_user: '',\r\n    responsible_person: '',\r\n    department_id: '',\r\n    room: '',\r\n    purchase_date: '',\r\n    comments: '',\r\n    diagonal: '',\r\n    CPU: '',\r\n    RAM: '',\r\n    Drive: '',\r\n    OS: '',\r\n    IP_address: '',\r\n    number: ''\r\n  });\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  const [deleteError, setDeleteError] = useState('');\r\n  const [qrCodeUrl, setQrCodeUrl] = useState('');\r\n  const [types, setTypes] = useState([]);\r\n  const [statuses, setStatuses] = useState([]);\r\n  const [employees, setEmployees] = useState([]);\r\n  const [departments, setDepartments] = useState([]);\r\n  const [typeProperties, setTypeProperties] = useState([]);\r\n  const [dynamicFields, setDynamicFields] = useState([]);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  // Получение текущего пользователя\r\n  useEffect(() => {\r\n    const fetchCurrentUser = async () => {\r\n      try {\r\n        const res = await axios.get(`${API_BASE_URL}/api/current_user`, { withCredentials: true });\r\n        // currentUser уже передаётся как пропс, но можно обновить, если нужно\r\n      } catch (err) {\r\n        console.error('Ошибка при получении данных пользователя:', err);\r\n      }\r\n    };\r\n    fetchCurrentUser();\r\n  }, []);\r\n\r\n  // Загрузка данных актива\r\n  useEffect(() => {\r\n    const fetchAsset = async () => {\r\n      try {\r\n        const res = await axios.get(`${API_BASE_URL}/api/assets/${id}`, { withCredentials: true });\r\n        const data = res.data;\r\n\r\n        // Инициализация состояния актива\r\n        setAsset({\r\n          ...data,\r\n          diagonal: data.diagonal || '',\r\n          CPU: data.CPU || '',\r\n          RAM: data.RAM || '',\r\n          Drive: data.Drive || '',\r\n          OS: data.OS || '',\r\n          IP_address: data.IP_address || '',\r\n          number: data.number || ''\r\n        });\r\n      } catch (err) {\r\n        setError('Не удалось загрузить актив');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    const fetchTypes = async () => {\r\n      try {\r\n        const res = await axios.get(`${API_BASE_URL}/api/types`, { withCredentials: true });\r\n        setTypes(res.data);\r\n      } catch (err) {\r\n        console.error('Ошибка при загрузке типов:', err);\r\n      }\r\n    };\r\n\r\n    const fetchStatuses = async () => {\r\n      try {\r\n        const res = await axios.get(`${API_BASE_URL}/api/statuses`, { withCredentials: true });\r\n        setStatuses(res.data);\r\n      } catch (err) {\r\n        console.error('Ошибка при загрузке статусов:', err);\r\n      }\r\n    };\r\n\r\n    const fetchEmployees = async () => {\r\n      try {\r\n        const res = await axios.get(`${API_BASE_URL}/api/employees`, { withCredentials: true });\r\n        setEmployees(res.data);\r\n      } catch (err) {\r\n        console.error('Ошибка при загрузке сотрудников:', err);\r\n      }\r\n    };\r\n\r\n    const fetchDepartments = async () => {\r\n      try {\r\n        const res = await axios.get(`${API_BASE_URL}/api/departments`, { withCredentials: true });\r\n        setDepartments(res.data);\r\n      } catch (err) {\r\n        console.error('Ошибка при загрузке отделов:', err);\r\n      }\r\n    };\r\n\r\n    fetchAsset();\r\n    fetchTypes();\r\n    fetchStatuses();\r\n    fetchEmployees();\r\n    fetchDepartments();\r\n  }, [id]);\r\n\r\n  // Загрузка свойств типа при изменении type_id\r\n  useEffect(() => {\r\n    const fetchTypeProperties = async () => {\r\n      if (!asset.type_id) {\r\n        setTypeProperties([]);\r\n        setDynamicFields([]);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const res = await axios.get(`${API_BASE_URL}/api/types/${asset.type_id}/properties`, { withCredentials: true });\r\n        setTypeProperties(res.data);\r\n\r\n        const fields = res.data.map(prop => {\r\n          const fieldName = mapPropertyNameToAssetField(prop.name);\r\n          return {\r\n            id: prop.id,\r\n            name: prop.name,\r\n            fieldName: fieldName,\r\n            value: asset[fieldName] || ''\r\n          };\r\n        });\r\n        setDynamicFields(fields);\r\n      } catch (err) {\r\n        console.error('Ошибка при загрузке свойств типа:', err);\r\n        setTypeProperties([]);\r\n        setDynamicFields([]);\r\n      }\r\n    };\r\n\r\n    fetchTypeProperties();\r\n  }, [asset.type_id]);\r\n\r\n  // Маппинг названий свойств на поля в объекте asset\r\n  const mapPropertyNameToAssetField = (propertyName) => {\r\n    const mapping = {\r\n      'Диагональ': 'diagonal',\r\n      'Процессор': 'CPU',\r\n      'Оперативная память': 'RAM',\r\n      'Диск': 'Drive',\r\n      'ОС': 'OS',\r\n      'IP-адрес': 'IP_address',\r\n      'Внутренний номер': 'number'\r\n    };\r\n    return mapping[propertyName] || propertyName.toLowerCase().replace(/\\s+/g, '_');\r\n  };\r\n\r\n  // Обновление значения динамического поля\r\n  const handleDynamicFieldChange = (fieldName, value) => {\r\n    setAsset(prev => ({ ...prev, [fieldName]: value }));\r\n    setDynamicFields(prev =>\r\n      prev.map(f => f.fieldName === fieldName ? { ...f, value } : f)\r\n    );\r\n  };\r\n\r\n  // Рендеринг динамических полей\r\n  const renderDynamicField = (field) => {\r\n    return (\r\n      <Grid item xs={12} sm={6} key={field.id}>\r\n        <TextField\r\n          label={field.name}\r\n          name={field.fieldName}\r\n          value={field.value}\r\n          onChange={(e) => handleDynamicFieldChange(field.fieldName, e.target.value)}\r\n          fullWidth\r\n          margin=\"normal\"\r\n          disabled={!currentUser || currentUser.role !== 'admin'}\r\n        />\r\n      </Grid>\r\n    );\r\n  };\r\n\r\n  // Обработчики изменений обычных полей\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setAsset(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  // Обработчик сохранения\r\n  const handleSave = async () => {\r\n    const dataToSend = {\r\n      serial_number: asset.serial_number,\r\n      inventory_number: asset.inventory_number,\r\n      type_id: asset.type_id,\r\n      brand: asset.brand,\r\n      model: asset.model,\r\n      status_id: asset.status_id,\r\n      actual_user: asset.actual_user,\r\n      responsible_person: asset.responsible_person,\r\n      department_id: asset.department_id,\r\n      room: asset.room,\r\n      purchase_date: asset.purchase_date,\r\n      comments: asset.comments,\r\n      diagonal: asset.diagonal,\r\n      CPU: asset.CPU,\r\n      RAM: asset.RAM,\r\n      Drive: asset.Drive,\r\n      OS: asset.OS,\r\n      IP_address: asset.IP_address,\r\n      number: asset.number,\r\n    };\r\n\r\n    try {\r\n      await axios.put(`${API_BASE_URL}/api/assets/${id}`, dataToSend, { withCredentials: true });\r\n      alert('Данные успешно обновлены');\r\n    } catch (err) {\r\n      console.error('Ошибка при сохранении:', err);\r\n      alert('Не удалось сохранить изменения');\r\n    }\r\n  };\r\n\r\n  // Подтверждение удаления\r\n  const handleDelete = async () => {\r\n    try {\r\n      await axios.delete(`${API_BASE_URL}/api/assets/${id}`, { withCredentials: true });\r\n      alert('Актив успешно удален');\r\n      navigate('/assets');\r\n    } catch (err) {\r\n      console.error('Ошибка при удалении актива:', err);\r\n      setDeleteError('Не удалось удалить актив. Возможно, он используется в других операциях.');\r\n    }\r\n  };\r\n\r\n  // Генерация QR-кода\r\n  useEffect(() => {\r\n    const generateQRCode = async () => {\r\n      try {\r\n        const url = `${window.location.origin}/assets/${id}`;\r\n        const response = await axios.post(\r\n          `${API_BASE_URL}/api/generate-qr`,\r\n          { text: url },\r\n          { responseType: 'blob', withCredentials: true }\r\n        );\r\n        const qrUrl = URL.createObjectURL(response.data);\r\n        setQrCodeUrl(qrUrl);\r\n      } catch (err) {\r\n        console.error('Ошибка при генерации QR-кода:', err);\r\n      }\r\n    };\r\n\r\n    if (id) generateQRCode();\r\n  }, [id]);\r\n\r\n  // Очистка URL объекта\r\n  useEffect(() => {\r\n    return () => {\r\n      if (qrCodeUrl) URL.revokeObjectURL(qrCodeUrl);\r\n    };\r\n  }, [qrCodeUrl]);\r\n\r\n  if (loading) return <CircularProgress />;\r\n  if (error) return <Alert severity=\"error\">{error}</Alert>;\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" style={{ marginTop: '20px' }}>\r\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n        <Typography variant=\"h4\">Карточка актива</Typography>\r\n        <Button\r\n          variant=\"outlined\"\r\n          startIcon={<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM4 1a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V1z\"/>\r\n            <path d=\"M11 5a1 1 0 1 1 0 2h-1v1a1 1 0 1 1-2 0v-1H7a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v1h1z\"/>\r\n          </svg>}\r\n          onClick={() => navigate('/assets/new')}\r\n        >\r\n          Добавить актив\r\n        </Button>\r\n      </Box>\r\n\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} md={8}>\r\n          <Box mb={3}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              {types.find(t => t.id === asset.type_id)?.name || 'Без типа'} {asset.brand} {asset.model}\r\n            </Typography>\r\n          </Box>\r\n\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                label=\"Серийный номер\"\r\n                name=\"serial_number\"\r\n                value={asset.serial_number}\r\n                onChange={handleChange}\r\n                fullWidth\r\n                margin=\"normal\"\r\n                disabled={!currentUser || currentUser.role !== 'admin'}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                label=\"Инвентарный номер\"\r\n                name=\"inventory_number\"\r\n                value={asset.inventory_number}\r\n                onChange={handleChange}\r\n                fullWidth\r\n                margin=\"normal\"\r\n                disabled={!currentUser || currentUser.role !== 'admin'}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControl fullWidth margin=\"normal\" disabled={!currentUser || currentUser.role !== 'admin'}>\r\n                <InputLabel>Тип</InputLabel>\r\n                <Select\r\n                  name=\"type_id\"\r\n                  value={asset.type_id}\r\n                  onChange={handleChange}\r\n                  label=\"Тип\"\r\n                >\r\n                  {types.map(type => (\r\n                    <MenuItem key={type.id} value={type.id}>\r\n                      {type.name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                label=\"Фирма\"\r\n                name=\"brand\"\r\n                value={asset.brand}\r\n                onChange={handleChange}\r\n                fullWidth\r\n                margin=\"normal\"\r\n                disabled={!currentUser || currentUser.role !== 'admin'}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                label=\"Модель\"\r\n                name=\"model\"\r\n                value={asset.model}\r\n                onChange={handleChange}\r\n                fullWidth\r\n                margin=\"normal\"\r\n                disabled={!currentUser || currentUser.role !== 'admin'}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControl fullWidth margin=\"normal\" disabled={!currentUser || currentUser.role !== 'admin'}>\r\n                <InputLabel>Статус</InputLabel>\r\n                <Select\r\n                  name=\"status_id\"\r\n                  value={asset.status_id}\r\n                  onChange={handleChange}\r\n                  label=\"Статус\"\r\n                >\r\n                  {statuses.map(status => (\r\n                    <MenuItem key={status.id} value={status.id}>\r\n                      {status.name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControl fullWidth margin=\"normal\" disabled={!currentUser || currentUser.role !== 'admin'}>\r\n                <InputLabel>Фактический пользователь</InputLabel>\r\n                <Select\r\n                  name=\"actual_user\"\r\n                  value={asset.actual_user}\r\n                  onChange={handleChange}\r\n                  label=\"Фактический пользователь\"\r\n                >\r\n                  {employees.map(emp => (\r\n                    <MenuItem key={emp.id} value={emp.id}>\r\n                      {emp.full_name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControl fullWidth margin=\"normal\" disabled={!currentUser || currentUser.role !== 'admin'}>\r\n                <InputLabel>Ответственный</InputLabel>\r\n                <Select\r\n                  name=\"responsible_person\"\r\n                  value={asset.responsible_person}\r\n                  onChange={handleChange}\r\n                  label=\"Ответственный\"\r\n                >\r\n                  {employees.map(emp => (\r\n                    <MenuItem key={emp.id} value={emp.id}>\r\n                      {emp.full_name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControl fullWidth margin=\"normal\" disabled={!currentUser || currentUser.role !== 'admin'}>\r\n                <InputLabel>Отдел</InputLabel>\r\n                <Select\r\n                  name=\"department_id\"\r\n                  value={asset.department_id}\r\n                  onChange={handleChange}\r\n                  label=\"Отдел\"\r\n                >\r\n                  {departments.map(dep => (\r\n                    <MenuItem key={dep.id} value={dep.id}>\r\n                      {dep.name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                label=\"Помещение\"\r\n                name=\"room\"\r\n                value={asset.room}\r\n                onChange={handleChange}\r\n                fullWidth\r\n                margin=\"normal\"\r\n                disabled={!currentUser || currentUser.role !== 'admin'}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                label=\"Дата покупки\"\r\n                name=\"purchase_date\"\r\n                type=\"date\"\r\n                value={asset.purchase_date}\r\n                onChange={handleChange}\r\n                fullWidth\r\n                margin=\"normal\"\r\n                InputLabelProps={{ shrink: true }}\r\n                disabled={!currentUser || currentUser.role !== 'admin'}\r\n              />\r\n            </Grid>\r\n\r\n            {/* Динамические поля */}\r\n            {dynamicFields.map(renderDynamicField)}\r\n\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                label=\"Комментарий\"\r\n                name=\"comments\"\r\n                value={asset.comments}\r\n                onChange={handleChange}\r\n                fullWidth\r\n                multiline\r\n                rows={3}\r\n                margin=\"normal\"\r\n                disabled={!currentUser || currentUser.role !== 'admin'}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n\r\n          {currentUser && currentUser.role === 'admin' && (\r\n            <Box mt={3}>\r\n              <Button variant=\"contained\" color=\"primary\" onClick={handleSave}>\r\n                Сохранить изменения\r\n              </Button>\r\n            </Box>\r\n          )}\r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={4}>\r\n          <Box mb={3}>\r\n            <Typography variant=\"h6\" gutterBottom>QR-код</Typography>\r\n            {qrCodeUrl ? (\r\n              <img\r\n                src={qrCodeUrl}\r\n                alt=\"QR-код\"\r\n                style={{ maxWidth: '100%', height: 'auto', border: '1px solid #ddd', borderRadius: 4 }}\r\n              />\r\n            ) : (\r\n              <Typography>Генерация QR-кода...</Typography>\r\n            )}\r\n          </Box>\r\n\r\n          <Box>\r\n            <Typography variant=\"h6\" gutterBottom>Действия</Typography>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              startIcon={<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\r\n                <path d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\r\n              </svg>}\r\n              onClick={() => setOpenDeleteDialog(true)}\r\n              disabled={!currentUser || currentUser.role !== 'admin'}\r\n              fullWidth\r\n              style={{ marginBottom: '10px' }}\r\n            >\r\n              Удалить актив\r\n            </Button>\r\n            <Button\r\n              variant=\"outlined\"\r\n              onClick={() => navigate('/assets')}\r\n              fullWidth\r\n            >\r\n              Назад к списку\r\n            </Button>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Диалог подтверждения удаления */}\r\n      <Dialog open={openDeleteDialog} onClose={() => setOpenDeleteDialog(false)}>\r\n        <DialogTitle>Подтверждение удаления</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Вы действительно хотите удалить этот актив? Это действие нельзя отменить.\r\n          </DialogContentText>\r\n          {deleteError && <Alert severity=\"error\" style={{ marginTop: '10px' }}>{deleteError}</Alert>}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenDeleteDialog(false)} color=\"primary\">\r\n            Отмена\r\n          </Button>\r\n          <Button onClick={handleDelete} color=\"secondary\" autoFocus>\r\n            Удалить\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AssetDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}