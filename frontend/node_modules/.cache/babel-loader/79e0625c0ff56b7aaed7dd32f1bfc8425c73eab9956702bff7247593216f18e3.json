{"ast":null,"code":"var _jsxFileName = \"D:\\\\it_inventory.localhost\\\\frontend\\\\src\\\\components\\\\AssetDetails.js\",\n  _s = $RefreshSig$();\n// frontend/src/components/AssetDetails.js\nimport React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Container, Typography, Box, Card, CardContent, Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Alert, CircularProgress, Grid, TextField, FormControl, InputLabel, Select, MenuItem, FormHelperText, IconButton, Tooltip, Snackbar } from '@mui/material';\nimport axios from 'axios';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport SaveIcon from '@mui/icons-material/Save';\nimport EditIcon from '@mui/icons-material/Edit';\nimport PrintIcon from '@mui/icons-material/Print';\nimport { API_BASE_URL } from '../config'; // Импорт базового URL\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AssetDetails = ({\n  currentUser\n}) => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n\n  // Состояния для данных\n  const [originalAsset, setOriginalAsset] = useState(null); // Оригинальные данные актива\n  const [asset, setAsset] = useState({}); // Данные для редактирования\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [isEditing, setIsEditing] = useState(false); // Состояние редактирования\n\n  // Состояния для выпадающих списков\n  const [types, setTypes] = useState([]);\n  const [statuses, setStatuses] = useState([]);\n  const [employees, setEmployees] = useState([]);\n  const [departments, setDepartments] = useState([]);\n\n  // Состояния для динамических полей\n  const [typeProperties, setTypeProperties] = useState([]); // Свойства для выбранного типа\n  const [dynamicFields, setDynamicFields] = useState({}); // Значения динамических полей\n\n  // Состояния для ошибок валидации\n  const [errors, setErrors] = useState({});\n\n  // Состояния для диалогов\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n  const [deleteError, setDeleteError] = useState('');\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'success'\n  });\n\n  // Функция для сортировки массивов по имени\n  const sortByLabel = (a, b) => {\n    return (a.name || '').localeCompare(b.name || '', 'ru', {\n      sensitivity: 'base'\n    });\n  };\n\n  // Загрузка данных актива\n  useEffect(() => {\n    const fetchAsset = async () => {\n      try {\n        setLoading(true);\n        const response = await axios.get(`${API_BASE_URL}/api/assets/${id}`, {\n          withCredentials: true\n        });\n        setOriginalAsset(response.data); // Сохраняем оригинальные данные\n        setAsset(response.data); // Инициализируем данные для редактирования\n\n        // Инициализируем динамические поля значениями из актива\n        const initialDynamicFields = {\n          diagonal: response.data.diagonal || '',\n          CPU: response.data.CPU || '',\n          RAM: response.data.RAM || '',\n          Drive: response.data.Drive || '',\n          OS: response.data.OS || '',\n          IP_address: response.data['IP-address'] || '',\n          // Обратите внимание на имя ключа\n          number: response.data.number || ''\n        };\n        setDynamicFields(initialDynamicFields);\n        setError('');\n      } catch (err) {\n        console.error('Ошибка при загрузке актива:', err);\n        setError('Не удалось загрузить данные актива.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchAsset();\n  }, [id]);\n\n  // Загрузка справочников\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [typesRes, statusesRes, employeesRes, departmentsRes] = await Promise.all([axios.get(`${API_BASE_URL}/api/types`, {\n          withCredentials: true\n        }), axios.get(`${API_BASE_URL}/api/statuses`, {\n          withCredentials: true\n        }), axios.get(`${API_BASE_URL}/api/employees`, {\n          withCredentials: true\n        }), axios.get(`${API_BASE_URL}/api/departments`, {\n          withCredentials: true\n        })]);\n        setTypes(typesRes.data.sort(sortByLabel));\n        setStatuses(statusesRes.data.sort(sortByLabel));\n        setEmployees(employeesRes.data.sort(sortByLabel));\n        setDepartments(departmentsRes.data.sort(sortByLabel));\n      } catch (error) {\n        console.error('Ошибка при загрузке справочников:', error);\n        showSnackbar('Не удалось загрузить данные справочников.', 'error');\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Загрузка свойств типа при изменении asset.type_id\n  useEffect(() => {\n    const loadTypeProperties = async () => {\n      if (asset.type_id) {\n        try {\n          const res = await axios.get(`${API_BASE_URL}/api/types/${asset.type_id}/properties`, {\n            withCredentials: true\n          });\n          setTypeProperties(res.data);\n        } catch (error) {\n          console.error('Ошибка при загрузке свойств типа:', error);\n          setTypeProperties([]);\n        }\n      } else {\n        setTypeProperties([]);\n      }\n    };\n    if (isEditing) {\n      // Загружаем только в режиме редактирования\n      loadTypeProperties();\n    }\n  }, [asset.type_id, isEditing]);\n\n  // Функция сопоставления имени свойства с полем в Asset\n  const mapPropertyNameToAssetField = propertyName => {\n    const mapping = {\n      'Диагональ': 'diagonal',\n      'Диагональ (дюймы)': 'diagonal',\n      'Операционная система': 'OS',\n      'Процессор': 'CPU',\n      'Оперативная память (ГБ)': 'RAM',\n      'Оперативная память': 'RAM',\n      'Диск (HDD/SSD)': 'Drive',\n      'Диск': 'Drive',\n      'IP-адрес': 'IP_address',\n      // В JS удобнее работать с IP_address\n      'Внутренний номер': 'number'\n    };\n    return mapping[propertyName] || propertyName.toLowerCase().replace(/\\s+/g, '_');\n  };\n\n  // Уведомления\n  const showSnackbar = (message, severity = 'success') => {\n    setSnackbar({\n      open: true,\n      message,\n      severity\n    });\n  };\n  const handleCloseSnackbar = () => {\n    setSnackbar({\n      ...snackbar,\n      open: false\n    });\n  };\n\n  // Обработчики изменений\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setAsset(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  // Обработчик изменения динамических полей\n  const handleDynamicFieldChange = fieldName => e => {\n    const {\n      value\n    } = e.target;\n    setDynamicFields(prev => ({\n      ...prev,\n      [fieldName]: value\n    }));\n\n    // Очистка ошибок для динамических полей, если они будут\n    // const errorKey = `dynamic_${fieldName}`;\n    // if (errors[errorKey]) {\n    //   setErrors((prev) => ({ ...prev, [errorKey]: '' }));\n    // }\n  };\n\n  // Обработчик изменения Ответственного (автозаполнение Отдела)\n  const handleResponsiblePersonChange = e => {\n    const employeeId = e.target.value;\n    handleChange(e); // Обновляем поле responsible_person\n\n    if (employeeId) {\n      const selectedEmployee = employees.find(emp => emp.id === parseInt(employeeId, 10));\n      if (selectedEmployee && selectedEmployee.department_id) {\n        setAsset(prevAsset => ({\n          ...prevAsset,\n          department_id: selectedEmployee.department_id.toString()\n        }));\n        if (errors.department_id) {\n          setErrors(prevErrors => ({\n            ...prevErrors,\n            department_id: ''\n          }));\n        }\n      } else {\n        setAsset(prevAsset => ({\n          ...prevAsset,\n          department_id: ''\n        }));\n      }\n    } else {\n      setAsset(prevAsset => ({\n        ...prevAsset,\n        department_id: ''\n      }));\n    }\n  };\n\n  // Валидация формы\n  const validateForm = () => {\n    const newErrors = {};\n    if (!asset.inventory_number) newErrors.inventory_number = 'Обязательное поле';\n    if (!asset.type_id) newErrors.type_id = 'Обязательное поле';\n    if (!asset.status_id) newErrors.status_id = 'Обязательное поле';\n    if (!asset.responsible_person) newErrors.responsible_person = 'Обязательное поле';\n    if (!asset.department_id) newErrors.department_id = 'Обязательное поле'; // Сделано обязательным\n    if (!asset.purchase_date) newErrors.purchase_date = 'Обязательное поле'; // Сделано обязательным\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Сохранение изменений\n  const handleSave = async () => {\n    if (!validateForm()) {\n      showSnackbar('Пожалуйста, заполните все обязательные поля.', 'warning');\n      return;\n    }\n    try {\n      const dataToSend = {\n        ...asset,\n        ...dynamicFields\n        // Обработка IP-адреса, если это необходимо\n        // 'IP-address': dynamicFields.IP_address,\n      };\n\n      // Удаляем поле IP_address из dynamicFields, если оно было добавлено как 'IP-address'\n      // delete dataToSend.IP_address; \n\n      await axios.put(`${API_BASE_URL}/api/assets/${id}`, dataToSend, {\n        withCredentials: true\n      });\n      showSnackbar('Данные успешно обновлены');\n\n      // Обновляем оригинальные данные и выходим из режима редактирования\n      const updatedAsset = {\n        ...asset,\n        ...dynamicFields\n      };\n      setOriginalAsset(updatedAsset);\n      setIsEditing(false);\n    } catch (err) {\n      var _err$response, _err$response$data, _err$response2, _err$response2$data;\n      console.error('Ошибка при сохранении изменений:', err);\n      let errorMessage = 'Ошибка при сохранении изменений';\n      if ((_err$response = err.response) !== null && _err$response !== void 0 && (_err$response$data = _err$response.data) !== null && _err$response$data !== void 0 && _err$response$data.error) {\n        errorMessage = err.response.data.error;\n      } else if ((_err$response2 = err.response) !== null && _err$response2 !== void 0 && (_err$response2$data = _err$response2.data) !== null && _err$response2$data !== void 0 && _err$response2$data.message) {\n        errorMessage = err.response.data.message;\n      }\n      showSnackbar(errorMessage, 'error');\n    }\n  };\n\n  // Удаление актива\n  const handleDelete = async () => {\n    try {\n      await axios.delete(`${API_BASE_URL}/api/assets/${id}`, {\n        withCredentials: true\n      });\n      showSnackbar('Актив успешно удален');\n      navigate('/assets'); // Переход к списку активов\n    } catch (err) {\n      console.error('Ошибка при удалении актива:', err);\n      setDeleteError('Не удалось удалить актив.');\n      showSnackbar('Не удалось удалить актив.', 'error');\n    }\n  };\n\n  // Печать QR-кода\n  const handlePrintQRCode = () => {\n    const qrUrl = `${API_BASE_URL}/api/assets/${id}/qr`;\n    const printWindow = window.open(qrUrl, '_blank');\n    printWindow.onload = () => {\n      printWindow.print();\n    };\n  };\n\n  // Режим редактирования\n  const handleEditClick = () => {\n    setIsEditing(true);\n    // Убедимся, что динамические поля инициализированы текущими значениями\n    const updatedDynamicFields = {\n      diagonal: asset.diagonal || '',\n      CPU: asset.CPU || '',\n      RAM: asset.RAM || '',\n      Drive: asset.Drive || '',\n      OS: asset.OS || '',\n      IP_address: asset['IP-address'] || '',\n      number: asset.number || ''\n    };\n    setDynamicFields(updatedDynamicFields);\n  };\n  const handleCancelEdit = () => {\n    // Восстанавливаем данные из оригинала\n    setAsset(originalAsset);\n    // Восстанавливаем динамические поля\n    const restoredDynamicFields = {\n      diagonal: originalAsset.diagonal || '',\n      CPU: originalAsset.CPU || '',\n      RAM: originalAsset.RAM || '',\n      Drive: originalAsset.Drive || '',\n      OS: originalAsset.OS || '',\n      IP_address: originalAsset['IP-address'] || '',\n      number: originalAsset.number || ''\n    };\n    setDynamicFields(restoredDynamicFields);\n    setErrors({}); // Очищаем ошибки\n    setIsEditing(false);\n  };\n\n  // Рендер динамического поля\n  const renderDynamicField = propertyName => {\n    const fieldName = mapPropertyNameToAssetField(propertyName);\n    const value = dynamicFields[fieldName] || '';\n    const errorKey = `dynamic_${fieldName}`; // Ключ для ошибок, если потребуется\n\n    return /*#__PURE__*/_jsxDEV(TextField, {\n      label: propertyName,\n      name: fieldName,\n      value: value,\n      onChange: handleDynamicFieldChange(fieldName),\n      fullWidth: true,\n      margin: \"dense\"\n      // error={!!errors[errorKey]}\n      // helperText={errors[errorKey]}\n      ,\n      disabled: !isEditing,\n      sx: {\n        mb: 1\n      }\n    }, fieldName, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    style: {\n      marginTop: '20px',\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 359,\n    columnNumber: 5\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    style: {\n      marginTop: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 2,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 22\n        }, this),\n        onClick: () => navigate('/assets'),\n        variant: \"outlined\",\n        children: \"\\u041D\\u0430\\u0437\\u0430\\u0434 \\u043A \\u0441\\u043F\\u0438\\u0441\\u043A\\u0443\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 366,\n    columnNumber: 5\n  }, this);\n  if (!originalAsset) return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    style: {\n      marginTop: '20px'\n    },\n    children: /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"warning\",\n      children: \"\\u0410\\u043A\\u0442\\u0438\\u0432 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 381,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    style: {\n      marginTop: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 20\n      }, this),\n      onClick: () => navigate('/assets'),\n      variant: \"outlined\",\n      style: {\n        marginBottom: '20px'\n      },\n      children: \"\\u041D\\u0430\\u0437\\u0430\\u0434 \\u043A \\u0441\\u043F\\u0438\\u0441\\u043A\\u0443\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          gutterBottom: true,\n          children: [originalAsset.category_name || 'Без категории', \" \", originalAsset.brand, \" \", originalAsset.model]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), isEditing ?\n        /*#__PURE__*/\n        // === Форма редактирования ===\n        _jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"\\u0421\\u0435\\u0440\\u0438\\u0439\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440\",\n                name: \"serial_number\",\n                value: asset.serial_number || '',\n                onChange: handleChange,\n                fullWidth: true,\n                margin: \"dense\",\n                disabled: !currentUser || currentUser.role !== 'admin',\n                sx: {\n                  mb: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"\\u0418\\u043D\\u0432\\u0435\\u043D\\u0442\\u0430\\u0440\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440 *\",\n                name: \"inventory_number\",\n                value: asset.inventory_number || '',\n                onChange: handleChange,\n                fullWidth: true,\n                margin: \"dense\",\n                error: !!errors.inventory_number,\n                helperText: errors.inventory_number,\n                disabled: !currentUser || currentUser.role !== 'admin',\n                sx: {\n                  mb: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                margin: \"dense\",\n                error: !!errors.type_id,\n                sx: {\n                  mb: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  id: \"edit-type-label\",\n                  children: \"\\u0422\\u0438\\u043F \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u0430 *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  labelId: \"edit-type-label\",\n                  label: \"\\u0422\\u0438\\u043F \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u0430 *\",\n                  name: \"type_id\",\n                  value: asset.type_id || '',\n                  onChange: handleChange,\n                  disabled: !currentUser || currentUser.role !== 'admin',\n                  sx: {\n                    mb: 0\n                  },\n                  children: types.map(type => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: type.id,\n                    children: type.name\n                  }, type.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 21\n                }, this), errors.type_id && /*#__PURE__*/_jsxDEV(FormHelperText, {\n                  children: errors.type_id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 40\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"\\u0424\\u0438\\u0440\\u043C\\u0430\",\n                name: \"brand\",\n                value: asset.brand || '',\n                onChange: handleChange,\n                fullWidth: true,\n                margin: \"dense\",\n                disabled: !currentUser || currentUser.role !== 'admin',\n                sx: {\n                  mb: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"\\u041C\\u043E\\u0434\\u0435\\u043B\\u044C\",\n                name: \"model\",\n                value: asset.model || '',\n                onChange: handleChange,\n                fullWidth: true,\n                margin: \"dense\",\n                disabled: !currentUser || currentUser.role !== 'admin',\n                sx: {\n                  mb: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 17\n            }, this), typeProperties.map(property => /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: renderDynamicField(property.name)\n            }, property.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                margin: \"dense\",\n                error: !!errors.status_id,\n                sx: {\n                  mb: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  id: \"edit-status-label\",\n                  children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  labelId: \"edit-status-label\",\n                  label: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 *\",\n                  name: \"status_id\",\n                  value: asset.status_id || '',\n                  onChange: handleChange,\n                  disabled: !currentUser || currentUser.role !== 'admin',\n                  sx: {\n                    mb: 0\n                  },\n                  children: statuses.map(status => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: status.id,\n                    children: status.name\n                  }, status.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 21\n                }, this), errors.status_id && /*#__PURE__*/_jsxDEV(FormHelperText, {\n                  children: errors.status_id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 42\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"\\u0424\\u0430\\u043A\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\",\n                name: \"actual_user\",\n                value: asset.actual_user || '',\n                onChange: handleChange,\n                fullWidth: true,\n                margin: \"dense\",\n                disabled: !currentUser || currentUser.role !== 'admin',\n                sx: {\n                  mb: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                margin: \"dense\",\n                error: !!errors.responsible_person,\n                sx: {\n                  mb: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  id: \"edit-responsible-person-label\",\n                  children: \"\\u041E\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u0435\\u043D\\u043D\\u044B\\u0439 *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  labelId: \"edit-responsible-person-label\",\n                  label: \"\\u041E\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u0435\\u043D\\u043D\\u044B\\u0439 *\",\n                  name: \"responsible_person\",\n                  value: asset.responsible_person || '',\n                  onChange: handleResponsiblePersonChange // Используем обработчик с автозаполнением\n                  ,\n                  disabled: !currentUser || currentUser.role !== 'admin',\n                  sx: {\n                    mb: 0\n                  },\n                  children: employees.map(emp => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: emp.id,\n                    children: emp.name\n                  }, emp.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 547,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 21\n                }, this), errors.responsible_person && /*#__PURE__*/_jsxDEV(FormHelperText, {\n                  children: errors.responsible_person\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 51\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                margin: \"dense\",\n                error: !!errors.department_id,\n                sx: {\n                  mb: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  id: \"edit-department-label\",\n                  children: \"\\u041E\\u0442\\u0434\\u0435\\u043B (\\u043F\\u043E\\u0434\\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435) *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 559,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  labelId: \"edit-department-label\",\n                  label: \"\\u041E\\u0442\\u0434\\u0435\\u043B (\\u043F\\u043E\\u0434\\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435) *\",\n                  name: \"department_id\",\n                  value: asset.department_id || '',\n                  onChange: handleChange,\n                  disabled: true // Поле заблокировано\n                  ,\n                  style: {\n                    backgroundColor: '#f5f5f5',\n                    color: 'rgba(0, 0, 0, 0.87)',\n                    cursor: 'not-allowed'\n                  },\n                  sx: {\n                    mb: 0,\n                    '& .MuiOutlinedInput-notchedOutline': {\n                      borderColor: 'rgba(0, 0, 0, 0.23)'\n                    },\n                    '& .MuiSelect-select': {\n                      color: 'rgba(0, 0, 0, 0.87)'\n                    }\n                  },\n                  children: departments.map(dept => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: dept.id,\n                    children: dept.name\n                  }, dept.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 579,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 560,\n                  columnNumber: 21\n                }, this), errors.department_id && /*#__PURE__*/_jsxDEV(FormHelperText, {\n                  children: errors.department_id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 46\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"\\u041F\\u043E\\u043C\\u0435\\u0449\\u0435\\u043D\\u0438\\u0435\",\n                name: \"room\",\n                value: asset.room || '',\n                onChange: handleChange,\n                fullWidth: true,\n                margin: \"dense\",\n                disabled: !currentUser || currentUser.role !== 'admin',\n                sx: {\n                  mb: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 590,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438 *\",\n                name: \"purchase_date\",\n                type: \"date\",\n                value: asset.purchase_date || '',\n                onChange: handleChange,\n                fullWidth: true,\n                margin: \"dense\",\n                InputLabelProps: {\n                  shrink: true\n                },\n                error: !!errors.purchase_date,\n                helperText: errors.purchase_date,\n                disabled: !currentUser || currentUser.role !== 'admin',\n                sx: {\n                  mb: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 604,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\",\n                name: \"comments\",\n                value: asset.comments || '',\n                onChange: handleChange,\n                fullWidth: true,\n                multiline: true,\n                rows: 3,\n                margin: \"dense\",\n                disabled: !currentUser || currentUser.role !== 'admin',\n                sx: {\n                  mb: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 622,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            mt: 2,\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              color: \"primary\",\n              onClick: handleCancelEdit,\n              disabled: !currentUser || currentUser.role !== 'admin',\n              children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"success\",\n              startIcon: /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 30\n              }, this),\n              onClick: handleSave,\n              disabled: !currentUser || currentUser.role !== 'admin',\n              children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) :\n        /*#__PURE__*/\n        // === Режим просмотра ===\n        _jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0421\\u0435\\u0440\\u0438\\u0439\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 663,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.serial_number || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 663,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0418\\u043D\\u0432\\u0435\\u043D\\u0442\\u0430\\u0440\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.inventory_number]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 664,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0422\\u0438\\u043F \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u0430:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.category_name || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0424\\u0438\\u0440\\u043C\\u0430:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 666,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.brand || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 666,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u041C\\u043E\\u0434\\u0435\\u043B\\u044C:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 667,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.model || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 667,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0414\\u0438\\u0430\\u0433\\u043E\\u043D\\u0430\\u043B\\u044C:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 670,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.diagonal || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"CPU:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 671,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.CPU || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"RAM:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 672,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.RAM || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Drive:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 673,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.Drive || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"OS:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 674,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.OS || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 674,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"IP-\\u0430\\u0434\\u0440\\u0435\\u0441:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 675,\n                  columnNumber: 31\n                }, this), \" \", originalAsset['IP-address'] || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0412\\u043D\\u0443\\u0442\\u0440\\u0435\\u043D\\u043D\\u0438\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 676,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.number || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 676,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 679,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.status_id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0424\\u0430\\u043A\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 680,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.actual_user || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 680,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u041E\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u0435\\u043D\\u043D\\u044B\\u0439:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 681,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.responsible_person || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u041E\\u0442\\u0434\\u0435\\u043B:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 682,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.department_id || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u041F\\u043E\\u043C\\u0435\\u0449\\u0435\\u043D\\u0438\\u0435:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 683,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.room || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 683,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 684,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.purchase_date || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0438:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 685,\n                  columnNumber: 31\n                }, this), \" \", originalAsset.comments || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 678,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 661,\n            columnNumber: 15\n          }, this), currentUser && currentUser.role === 'admin' && /*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            justifyContent: \"flex-end\",\n            mt: 2,\n            gap: 1,\n            children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"\\u041F\\u0435\\u0447\\u0430\\u0442\\u044C QR-\\u043A\\u043E\\u0434\\u0430\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                color: \"primary\",\n                onClick: handlePrintQRCode,\n                children: /*#__PURE__*/_jsxDEV(PrintIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 694,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 693,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                color: \"primary\",\n                onClick: handleEditClick,\n                children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 699,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                color: \"error\",\n                onClick: () => setOpenDeleteDialog(true),\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 704,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 703,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 702,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openDeleteDialog,\n      onClose: () => setOpenDeleteDialog(false),\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-title\",\n        children: \"Подтвердите удаление\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 721,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n          id: \"alert-dialog-description\",\n          children: [\"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B, \\u0447\\u0442\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0430\\u043A\\u0442\\u0438\\u0432 \\\"\", originalAsset.inventory_number, \"\\\"? \\u042D\\u0442\\u043E \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435 \\u043D\\u0435\\u043B\\u044C\\u0437\\u044F \\u043E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 723,\n          columnNumber: 11\n        }, this), deleteError && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          style: {\n            marginTop: '10px'\n          },\n          children: deleteError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 728,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 722,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenDeleteDialog(false),\n          color: \"primary\",\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleDelete,\n          color: \"error\",\n          autoFocus: true,\n          children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 733,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 715,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackbar.open,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnackbar,\n      message: snackbar.message,\n      severity: snackbar.severity\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 744,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 387,\n    columnNumber: 5\n  }, this);\n};\n_s(AssetDetails, \"HsjaRmTxZvq+1vNlcQxdW+XL6Lc=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = AssetDetails;\nexport default AssetDetails;\nvar _c;\n$RefreshReg$(_c, \"AssetDetails\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","Container","Typography","Box","Card","CardContent","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Alert","CircularProgress","Grid","TextField","FormControl","InputLabel","Select","MenuItem","FormHelperText","IconButton","Tooltip","Snackbar","axios","ArrowBackIcon","DeleteIcon","SaveIcon","EditIcon","PrintIcon","API_BASE_URL","jsxDEV","_jsxDEV","Fragment","_Fragment","AssetDetails","currentUser","_s","id","navigate","originalAsset","setOriginalAsset","asset","setAsset","loading","setLoading","error","setError","isEditing","setIsEditing","types","setTypes","statuses","setStatuses","employees","setEmployees","departments","setDepartments","typeProperties","setTypeProperties","dynamicFields","setDynamicFields","errors","setErrors","openDeleteDialog","setOpenDeleteDialog","deleteError","setDeleteError","snackbar","setSnackbar","open","message","severity","sortByLabel","a","b","name","localeCompare","sensitivity","fetchAsset","response","get","withCredentials","data","initialDynamicFields","diagonal","CPU","RAM","Drive","OS","IP_address","number","err","console","fetchData","typesRes","statusesRes","employeesRes","departmentsRes","Promise","all","sort","showSnackbar","loadTypeProperties","type_id","res","mapPropertyNameToAssetField","propertyName","mapping","toLowerCase","replace","handleCloseSnackbar","handleChange","e","value","target","prev","handleDynamicFieldChange","fieldName","handleResponsiblePersonChange","employeeId","selectedEmployee","find","emp","parseInt","department_id","prevAsset","toString","prevErrors","validateForm","newErrors","inventory_number","status_id","responsible_person","purchase_date","Object","keys","length","handleSave","dataToSend","put","updatedAsset","_err$response","_err$response$data","_err$response2","_err$response2$data","errorMessage","handleDelete","delete","handlePrintQRCode","qrUrl","printWindow","window","onload","print","handleEditClick","updatedDynamicFields","handleCancelEdit","restoredDynamicFields","renderDynamicField","errorKey","label","onChange","fullWidth","margin","disabled","sx","mb","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","style","marginTop","textAlign","children","mt","startIcon","onClick","variant","marginBottom","gutterBottom","category_name","brand","model","container","spacing","item","xs","sm","serial_number","role","helperText","labelId","map","type","property","status","actual_user","backgroundColor","color","cursor","borderColor","dept","room","InputLabelProps","shrink","comments","multiline","rows","display","justifyContent","md","gap","title","onClose","autoFocus","autoHideDuration","_c","$RefreshReg$"],"sources":["D:/it_inventory.localhost/frontend/src/components/AssetDetails.js"],"sourcesContent":["// frontend/src/components/AssetDetails.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  Alert,\r\n  CircularProgress,\r\n  Grid,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  FormHelperText,\r\n  IconButton,\r\n  Tooltip,\r\n  Snackbar\r\n} from '@mui/material';\r\nimport axios from 'axios';\r\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport SaveIcon from '@mui/icons-material/Save';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport PrintIcon from '@mui/icons-material/Print';\r\nimport { API_BASE_URL } from '../config'; // Импорт базового URL\r\n\r\nconst AssetDetails = ({ currentUser }) => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  \r\n  // Состояния для данных\r\n  const [originalAsset, setOriginalAsset] = useState(null); // Оригинальные данные актива\r\n  const [asset, setAsset] = useState({}); // Данные для редактирования\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [isEditing, setIsEditing] = useState(false); // Состояние редактирования\r\n  \r\n  // Состояния для выпадающих списков\r\n  const [types, setTypes] = useState([]);\r\n  const [statuses, setStatuses] = useState([]);\r\n  const [employees, setEmployees] = useState([]);\r\n  const [departments, setDepartments] = useState([]);\r\n  \r\n  // Состояния для динамических полей\r\n  const [typeProperties, setTypeProperties] = useState([]); // Свойства для выбранного типа\r\n  const [dynamicFields, setDynamicFields] = useState({}); // Значения динамических полей\r\n\r\n  // Состояния для ошибок валидации\r\n  const [errors, setErrors] = useState({});\r\n  \r\n  // Состояния для диалогов\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  const [deleteError, setDeleteError] = useState('');\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\r\n\r\n  // Функция для сортировки массивов по имени\r\n  const sortByLabel = (a, b) => {\r\n    return (a.name || '').localeCompare(b.name || '', 'ru', { sensitivity: 'base' });\r\n  };\r\n\r\n  // Загрузка данных актива\r\n  useEffect(() => {\r\n    const fetchAsset = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await axios.get(`${API_BASE_URL}/api/assets/${id}`, { withCredentials: true });\r\n        setOriginalAsset(response.data); // Сохраняем оригинальные данные\r\n        setAsset(response.data); // Инициализируем данные для редактирования\r\n        \r\n        // Инициализируем динамические поля значениями из актива\r\n        const initialDynamicFields = {\r\n          diagonal: response.data.diagonal || '',\r\n          CPU: response.data.CPU || '',\r\n          RAM: response.data.RAM || '',\r\n          Drive: response.data.Drive || '',\r\n          OS: response.data.OS || '',\r\n          IP_address: response.data['IP-address'] || '', // Обратите внимание на имя ключа\r\n          number: response.data.number || '',\r\n        };\r\n        setDynamicFields(initialDynamicFields);\r\n        \r\n        setError('');\r\n      } catch (err) {\r\n        console.error('Ошибка при загрузке актива:', err);\r\n        setError('Не удалось загрузить данные актива.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchAsset();\r\n  }, [id]);\r\n\r\n  // Загрузка справочников\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [typesRes, statusesRes, employeesRes, departmentsRes] = await Promise.all([\r\n          axios.get(`${API_BASE_URL}/api/types`, { withCredentials: true }),\r\n          axios.get(`${API_BASE_URL}/api/statuses`, { withCredentials: true }),\r\n          axios.get(`${API_BASE_URL}/api/employees`, { withCredentials: true }),\r\n          axios.get(`${API_BASE_URL}/api/departments`, { withCredentials: true }),\r\n        ]);\r\n\r\n        setTypes(typesRes.data.sort(sortByLabel));\r\n        setStatuses(statusesRes.data.sort(sortByLabel));\r\n        setEmployees(employeesRes.data.sort(sortByLabel));\r\n        setDepartments(departmentsRes.data.sort(sortByLabel));\r\n      } catch (error) {\r\n        console.error('Ошибка при загрузке справочников:', error);\r\n        showSnackbar('Не удалось загрузить данные справочников.', 'error');\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Загрузка свойств типа при изменении asset.type_id\r\n  useEffect(() => {\r\n    const loadTypeProperties = async () => {\r\n      if (asset.type_id) {\r\n        try {\r\n          const res = await axios.get(`${API_BASE_URL}/api/types/${asset.type_id}/properties`, { withCredentials: true });\r\n          setTypeProperties(res.data);\r\n        } catch (error) {\r\n          console.error('Ошибка при загрузке свойств типа:', error);\r\n          setTypeProperties([]);\r\n        }\r\n      } else {\r\n        setTypeProperties([]);\r\n      }\r\n    };\r\n\r\n    if (isEditing) { // Загружаем только в режиме редактирования\r\n       loadTypeProperties();\r\n    }\r\n  }, [asset.type_id, isEditing]);\r\n\r\n  // Функция сопоставления имени свойства с полем в Asset\r\n  const mapPropertyNameToAssetField = (propertyName) => {\r\n    const mapping = {\r\n      'Диагональ': 'diagonal',\r\n      'Диагональ (дюймы)': 'diagonal',\r\n      'Операционная система': 'OS',\r\n      'Процессор': 'CPU',\r\n      'Оперативная память (ГБ)': 'RAM',\r\n      'Оперативная память': 'RAM',\r\n      'Диск (HDD/SSD)': 'Drive',\r\n      'Диск': 'Drive',\r\n      'IP-адрес': 'IP_address', // В JS удобнее работать с IP_address\r\n      'Внутренний номер': 'number',\r\n    };\r\n    return mapping[propertyName] || propertyName.toLowerCase().replace(/\\s+/g, '_');\r\n  };\r\n\r\n  // Уведомления\r\n  const showSnackbar = (message, severity = 'success') => {\r\n    setSnackbar({ open: true, message, severity });\r\n  };\r\n\r\n  const handleCloseSnackbar = () => {\r\n    setSnackbar({ ...snackbar, open: false });\r\n  };\r\n\r\n  // Обработчики изменений\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setAsset((prev) => ({ ...prev, [name]: value }));\r\n\r\n    if (errors[name]) {\r\n      setErrors((prev) => ({ ...prev, [name]: '' }));\r\n    }\r\n  };\r\n\r\n  // Обработчик изменения динамических полей\r\n  const handleDynamicFieldChange = (fieldName) => (e) => {\r\n    const { value } = e.target;\r\n    setDynamicFields((prev) => ({ ...prev, [fieldName]: value }));\r\n    \r\n    // Очистка ошибок для динамических полей, если они будут\r\n    // const errorKey = `dynamic_${fieldName}`;\r\n    // if (errors[errorKey]) {\r\n    //   setErrors((prev) => ({ ...prev, [errorKey]: '' }));\r\n    // }\r\n  };\r\n\r\n  // Обработчик изменения Ответственного (автозаполнение Отдела)\r\n  const handleResponsiblePersonChange = (e) => {\r\n    const employeeId = e.target.value;\r\n    handleChange(e); // Обновляем поле responsible_person\r\n\r\n    if (employeeId) {\r\n      const selectedEmployee = employees.find(emp => emp.id === parseInt(employeeId, 10));\r\n      if (selectedEmployee && selectedEmployee.department_id) {\r\n        setAsset(prevAsset => ({\r\n          ...prevAsset,\r\n          department_id: selectedEmployee.department_id.toString()\r\n        }));\r\n\r\n        if (errors.department_id) {\r\n          setErrors(prevErrors => ({ ...prevErrors, department_id: '' }));\r\n        }\r\n      } else {\r\n        setAsset(prevAsset => ({\r\n          ...prevAsset,\r\n          department_id: ''\r\n        }));\r\n      }\r\n    } else {\r\n      setAsset(prevAsset => ({\r\n        ...prevAsset,\r\n        department_id: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  // Валидация формы\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    if (!asset.inventory_number) newErrors.inventory_number = 'Обязательное поле';\r\n    if (!asset.type_id) newErrors.type_id = 'Обязательное поле';\r\n    if (!asset.status_id) newErrors.status_id = 'Обязательное поле';\r\n    if (!asset.responsible_person) newErrors.responsible_person = 'Обязательное поле';\r\n    if (!asset.department_id) newErrors.department_id = 'Обязательное поле'; // Сделано обязательным\r\n    if (!asset.purchase_date) newErrors.purchase_date = 'Обязательное поле'; // Сделано обязательным\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  // Сохранение изменений\r\n  const handleSave = async () => {\r\n    if (!validateForm()) {\r\n      showSnackbar('Пожалуйста, заполните все обязательные поля.', 'warning');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const dataToSend = {\r\n        ...asset,\r\n        ...dynamicFields,\r\n        // Обработка IP-адреса, если это необходимо\r\n        // 'IP-address': dynamicFields.IP_address,\r\n      };\r\n      \r\n      // Удаляем поле IP_address из dynamicFields, если оно было добавлено как 'IP-address'\r\n      // delete dataToSend.IP_address; \r\n      \r\n      await axios.put(`${API_BASE_URL}/api/assets/${id}`, dataToSend, { withCredentials: true });\r\n      showSnackbar('Данные успешно обновлены');\r\n      \r\n      // Обновляем оригинальные данные и выходим из режима редактирования\r\n      const updatedAsset = { ...asset, ...dynamicFields };\r\n      setOriginalAsset(updatedAsset);\r\n      setIsEditing(false);\r\n      \r\n    } catch (err) {\r\n      console.error('Ошибка при сохранении изменений:', err);\r\n      let errorMessage = 'Ошибка при сохранении изменений';\r\n      if (err.response?.data?.error) {\r\n        errorMessage = err.response.data.error;\r\n      } else if (err.response?.data?.message) {\r\n        errorMessage = err.response.data.message;\r\n      }\r\n      showSnackbar(errorMessage, 'error');\r\n    }\r\n  };\r\n\r\n  // Удаление актива\r\n  const handleDelete = async () => {\r\n    try {\r\n      await axios.delete(`${API_BASE_URL}/api/assets/${id}`, { withCredentials: true });\r\n      showSnackbar('Актив успешно удален');\r\n      navigate('/assets'); // Переход к списку активов\r\n    } catch (err) {\r\n      console.error('Ошибка при удалении актива:', err);\r\n      setDeleteError('Не удалось удалить актив.');\r\n      showSnackbar('Не удалось удалить актив.', 'error');\r\n    }\r\n  };\r\n\r\n  // Печать QR-кода\r\n  const handlePrintQRCode = () => {\r\n    const qrUrl = `${API_BASE_URL}/api/assets/${id}/qr`;\r\n    const printWindow = window.open(qrUrl, '_blank');\r\n    printWindow.onload = () => {\r\n      printWindow.print();\r\n    };\r\n  };\r\n\r\n  // Режим редактирования\r\n  const handleEditClick = () => {\r\n    setIsEditing(true);\r\n    // Убедимся, что динамические поля инициализированы текущими значениями\r\n    const updatedDynamicFields = {\r\n      diagonal: asset.diagonal || '',\r\n      CPU: asset.CPU || '',\r\n      RAM: asset.RAM || '',\r\n      Drive: asset.Drive || '',\r\n      OS: asset.OS || '',\r\n      IP_address: asset['IP-address'] || '',\r\n      number: asset.number || '',\r\n    };\r\n    setDynamicFields(updatedDynamicFields);\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    // Восстанавливаем данные из оригинала\r\n    setAsset(originalAsset);\r\n    // Восстанавливаем динамические поля\r\n    const restoredDynamicFields = {\r\n      diagonal: originalAsset.diagonal || '',\r\n      CPU: originalAsset.CPU || '',\r\n      RAM: originalAsset.RAM || '',\r\n      Drive: originalAsset.Drive || '',\r\n      OS: originalAsset.OS || '',\r\n      IP_address: originalAsset['IP-address'] || '',\r\n      number: originalAsset.number || '',\r\n    };\r\n    setDynamicFields(restoredDynamicFields);\r\n    setErrors({}); // Очищаем ошибки\r\n    setIsEditing(false);\r\n  };\r\n\r\n  // Рендер динамического поля\r\n  const renderDynamicField = (propertyName) => {\r\n    const fieldName = mapPropertyNameToAssetField(propertyName);\r\n    const value = dynamicFields[fieldName] || '';\r\n    const errorKey = `dynamic_${fieldName}`; // Ключ для ошибок, если потребуется\r\n\r\n    return (\r\n      <TextField\r\n        key={fieldName}\r\n        label={propertyName}\r\n        name={fieldName}\r\n        value={value}\r\n        onChange={handleDynamicFieldChange(fieldName)}\r\n        fullWidth\r\n        margin=\"dense\"\r\n        // error={!!errors[errorKey]}\r\n        // helperText={errors[errorKey]}\r\n        disabled={!isEditing}\r\n        sx={{ mb: 1 }}\r\n      />\r\n    );\r\n  };\r\n\r\n  if (loading) return (\r\n    <Container maxWidth=\"md\" style={{ marginTop: '20px', textAlign: 'center' }}>\r\n      <CircularProgress />\r\n      <Typography>Загрузка...</Typography>\r\n    </Container>\r\n  );\r\n  \r\n  if (error) return (\r\n    <Container maxWidth=\"md\" style={{ marginTop: '20px' }}>\r\n      <Alert severity=\"error\">{error}</Alert>\r\n      <Box mt={2}>\r\n        <Button\r\n          startIcon={<ArrowBackIcon />}\r\n          onClick={() => navigate('/assets')}\r\n          variant=\"outlined\"\r\n        >\r\n          Назад к списку\r\n        </Button>\r\n      </Box>\r\n    </Container>\r\n  );\r\n  \r\n  if (!originalAsset) return (\r\n    <Container maxWidth=\"md\" style={{ marginTop: '20px' }}>\r\n      <Alert severity=\"warning\">Актив не найден</Alert>\r\n    </Container>\r\n  );\r\n\r\n  return (\r\n    <Container maxWidth=\"md\" style={{ marginTop: '20px' }}>\r\n      <Button\r\n        startIcon={<ArrowBackIcon />}\r\n        onClick={() => navigate('/assets')}\r\n        variant=\"outlined\"\r\n        style={{ marginBottom: '20px' }}\r\n      >\r\n        Назад к списку\r\n      </Button>\r\n\r\n      <Card>\r\n        <CardContent>\r\n          {/* Шапка с полным названием */}\r\n          <Typography variant=\"h5\" gutterBottom>\r\n            {originalAsset.category_name || 'Без категории'} {originalAsset.brand} {originalAsset.model}\r\n          </Typography>\r\n\r\n          {isEditing ? (\r\n            // === Форма редактирования ===\r\n            <>\r\n              <Grid container spacing={2}>\r\n                {/* Серийный номер */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    label=\"Серийный номер\"\r\n                    name=\"serial_number\"\r\n                    value={asset.serial_number || ''}\r\n                    onChange={handleChange}\r\n                    fullWidth\r\n                    margin=\"dense\"\r\n                    disabled={!currentUser || currentUser.role !== 'admin'}\r\n                    sx={{ mb: 1 }}\r\n                  />\r\n                </Grid>\r\n\r\n                {/* Инвентарный номер */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    label=\"Инвентарный номер *\"\r\n                    name=\"inventory_number\"\r\n                    value={asset.inventory_number || ''}\r\n                    onChange={handleChange}\r\n                    fullWidth\r\n                    margin=\"dense\"\r\n                    error={!!errors.inventory_number}\r\n                    helperText={errors.inventory_number}\r\n                    disabled={!currentUser || currentUser.role !== 'admin'}\r\n                    sx={{ mb: 1 }}\r\n                  />\r\n                </Grid>\r\n\r\n                {/* Тип устройства (ранее Категория) */}\r\n                <Grid item xs={12}>\r\n                  <FormControl fullWidth margin=\"dense\" error={!!errors.type_id} sx={{ mb: 1 }}>\r\n                    <InputLabel id=\"edit-type-label\">Тип устройства *</InputLabel>\r\n                    <Select\r\n                      labelId=\"edit-type-label\"\r\n                      label=\"Тип устройства *\"\r\n                      name=\"type_id\"\r\n                      value={asset.type_id || ''}\r\n                      onChange={handleChange}\r\n                      disabled={!currentUser || currentUser.role !== 'admin'}\r\n                      sx={{ mb: 0 }}\r\n                    >\r\n                      {types.map((type) => (\r\n                        <MenuItem key={type.id} value={type.id}>\r\n                          {type.name}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                    {errors.type_id && <FormHelperText>{errors.type_id}</FormHelperText>}\r\n                  </FormControl>\r\n                </Grid>\r\n\r\n                {/* Фирма */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    label=\"Фирма\"\r\n                    name=\"brand\"\r\n                    value={asset.brand || ''}\r\n                    onChange={handleChange}\r\n                    fullWidth\r\n                    margin=\"dense\"\r\n                    disabled={!currentUser || currentUser.role !== 'admin'}\r\n                    sx={{ mb: 1 }}\r\n                  />\r\n                </Grid>\r\n\r\n                {/* Модель */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    label=\"Модель\"\r\n                    name=\"model\"\r\n                    value={asset.model || ''}\r\n                    onChange={handleChange}\r\n                    fullWidth\r\n                    margin=\"dense\"\r\n                    disabled={!currentUser || currentUser.role !== 'admin'}\r\n                    sx={{ mb: 1 }}\r\n                  />\r\n                </Grid>\r\n\r\n                {/* Динамические поля */}\r\n                {typeProperties.map((property) => (\r\n                  <Grid item xs={12} key={property.id}>\r\n                    {renderDynamicField(property.name)}\r\n                  </Grid>\r\n                ))}\r\n\r\n                {/* Статус */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <FormControl fullWidth margin=\"dense\" error={!!errors.status_id} sx={{ mb: 1 }}>\r\n                    <InputLabel id=\"edit-status-label\">Статус *</InputLabel>\r\n                    <Select\r\n                      labelId=\"edit-status-label\"\r\n                      label=\"Статус *\"\r\n                      name=\"status_id\"\r\n                      value={asset.status_id || ''}\r\n                      onChange={handleChange}\r\n                      disabled={!currentUser || currentUser.role !== 'admin'}\r\n                      sx={{ mb: 0 }}\r\n                    >\r\n                      {statuses.map((status) => (\r\n                        <MenuItem key={status.id} value={status.id}>\r\n                          {status.name}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                    {errors.status_id && <FormHelperText>{errors.status_id}</FormHelperText>}\r\n                  </FormControl>\r\n                </Grid>\r\n\r\n                {/* Фактический пользователь */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    label=\"Фактический пользователь\"\r\n                    name=\"actual_user\"\r\n                    value={asset.actual_user || ''}\r\n                    onChange={handleChange}\r\n                    fullWidth\r\n                    margin=\"dense\"\r\n                    disabled={!currentUser || currentUser.role !== 'admin'}\r\n                    sx={{ mb: 1 }}\r\n                  />\r\n                </Grid>\r\n\r\n                {/* Ответственный */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <FormControl fullWidth margin=\"dense\" error={!!errors.responsible_person} sx={{ mb: 1 }}>\r\n                    <InputLabel id=\"edit-responsible-person-label\">Ответственный *</InputLabel>\r\n                    <Select\r\n                      labelId=\"edit-responsible-person-label\"\r\n                      label=\"Ответственный *\"\r\n                      name=\"responsible_person\"\r\n                      value={asset.responsible_person || ''}\r\n                      onChange={handleResponsiblePersonChange} // Используем обработчик с автозаполнением\r\n                      disabled={!currentUser || currentUser.role !== 'admin'}\r\n                      sx={{ mb: 0 }}\r\n                    >\r\n                      {employees.map((emp) => (\r\n                        <MenuItem key={emp.id} value={emp.id}>\r\n                          {emp.name}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                    {errors.responsible_person && <FormHelperText>{errors.responsible_person}</FormHelperText>}\r\n                  </FormControl>\r\n                </Grid>\r\n\r\n                {/* Отдел (подразделение) - НЕРЕДАКТИРУЕМЫЙ, но автозаполняемый */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <FormControl fullWidth margin=\"dense\" error={!!errors.department_id} sx={{ mb: 1 }}>\r\n                    <InputLabel id=\"edit-department-label\">Отдел (подразделение) *</InputLabel>\r\n                    <Select\r\n                      labelId=\"edit-department-label\"\r\n                      label=\"Отдел (подразделение) *\"\r\n                      name=\"department_id\"\r\n                      value={asset.department_id || ''}\r\n                      onChange={handleChange}\r\n                      disabled // Поле заблокировано\r\n                      style={{\r\n                        backgroundColor: '#f5f5f5',\r\n                        color: 'rgba(0, 0, 0, 0.87)',\r\n                        cursor: 'not-allowed'\r\n                      }}\r\n                      sx={{\r\n                        mb: 0,\r\n                        '& .MuiOutlinedInput-notchedOutline': { borderColor: 'rgba(0, 0, 0, 0.23)' },\r\n                        '& .MuiSelect-select': { color: 'rgba(0, 0, 0, 0.87)' }\r\n                      }}\r\n                    >\r\n                      {departments.map((dept) => (\r\n                        <MenuItem key={dept.id} value={dept.id}>\r\n                          {dept.name}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                    {errors.department_id && <FormHelperText>{errors.department_id}</FormHelperText>}\r\n                  </FormControl>\r\n                </Grid>\r\n\r\n                {/* Помещение */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    label=\"Помещение\"\r\n                    name=\"room\"\r\n                    value={asset.room || ''}\r\n                    onChange={handleChange}\r\n                    fullWidth\r\n                    margin=\"dense\"\r\n                    disabled={!currentUser || currentUser.role !== 'admin'}\r\n                    sx={{ mb: 1 }}\r\n                  />\r\n                </Grid>\r\n\r\n                {/* Дата покупки */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    label=\"Дата покупки *\"\r\n                    name=\"purchase_date\"\r\n                    type=\"date\"\r\n                    value={asset.purchase_date || ''}\r\n                    onChange={handleChange}\r\n                    fullWidth\r\n                    margin=\"dense\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    error={!!errors.purchase_date}\r\n                    helperText={errors.purchase_date}\r\n                    disabled={!currentUser || currentUser.role !== 'admin'}\r\n                    sx={{ mb: 1 }}\r\n                  />\r\n                </Grid>\r\n\r\n                {/* Комментарий */}\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    label=\"Комментарий\"\r\n                    name=\"comments\"\r\n                    value={asset.comments || ''}\r\n                    onChange={handleChange}\r\n                    fullWidth\r\n                    multiline\r\n                    rows={3}\r\n                    margin=\"dense\"\r\n                    disabled={!currentUser || currentUser.role !== 'admin'}\r\n                    sx={{ mb: 1 }}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n\r\n              {/* Кнопки действий в режиме редактирования */}\r\n              <Box display=\"flex\" justifyContent=\"space-between\" mt={2}>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  color=\"primary\"\r\n                  onClick={handleCancelEdit}\r\n                  disabled={!currentUser || currentUser.role !== 'admin'}\r\n                >\r\n                  Отмена\r\n                </Button>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"success\"\r\n                  startIcon={<SaveIcon />}\r\n                  onClick={handleSave}\r\n                  disabled={!currentUser || currentUser.role !== 'admin'}\r\n                >\r\n                  Сохранить\r\n                </Button>\r\n              </Box>\r\n            </>\r\n          ) : (\r\n            // === Режим просмотра ===\r\n            <>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12} md={6}>\r\n                  <Typography><strong>Серийный номер:</strong> {originalAsset.serial_number || '-'}</Typography>\r\n                  <Typography><strong>Инвентарный номер:</strong> {originalAsset.inventory_number}</Typography>\r\n                  <Typography><strong>Тип устройства:</strong> {originalAsset.category_name || '-'}</Typography>\r\n                  <Typography><strong>Фирма:</strong> {originalAsset.brand || '-'}</Typography>\r\n                  <Typography><strong>Модель:</strong> {originalAsset.model || '-'}</Typography>\r\n                  \r\n                  {/* Динамические поля для просмотра */}\r\n                  <Typography><strong>Диагональ:</strong> {originalAsset.diagonal || '-'}</Typography>\r\n                  <Typography><strong>CPU:</strong> {originalAsset.CPU || '-'}</Typography>\r\n                  <Typography><strong>RAM:</strong> {originalAsset.RAM || '-'}</Typography>\r\n                  <Typography><strong>Drive:</strong> {originalAsset.Drive || '-'}</Typography>\r\n                  <Typography><strong>OS:</strong> {originalAsset.OS || '-'}</Typography>\r\n                  <Typography><strong>IP-адрес:</strong> {originalAsset['IP-address'] || '-'}</Typography>\r\n                  <Typography><strong>Внутренний номер:</strong> {originalAsset.number || '-'}</Typography>\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <Typography><strong>Статус:</strong> {originalAsset.status_id}</Typography>\r\n                  <Typography><strong>Фактический пользователь:</strong> {originalAsset.actual_user || '-'}</Typography>\r\n                  <Typography><strong>Ответственный:</strong> {originalAsset.responsible_person || '-'}</Typography>\r\n                  <Typography><strong>Отдел:</strong> {originalAsset.department_id || '-'}</Typography>\r\n                  <Typography><strong>Помещение:</strong> {originalAsset.room || '-'}</Typography>\r\n                  <Typography><strong>Дата покупки:</strong> {originalAsset.purchase_date || '-'}</Typography>\r\n                  <Typography><strong>Комментарии:</strong> {originalAsset.comments || '-'}</Typography>\r\n                </Grid>\r\n              </Grid>\r\n\r\n              {/* Кнопки действий в режиме просмотра (только для администраторов) */}\r\n              {currentUser && currentUser.role === 'admin' && (\r\n                <Box display=\"flex\" justifyContent=\"flex-end\" mt={2} gap={1}>\r\n                  <Tooltip title=\"Печать QR-кода\">\r\n                    <IconButton color=\"primary\" onClick={handlePrintQRCode}>\r\n                      <PrintIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  <Tooltip title=\"Редактировать\">\r\n                    <IconButton color=\"primary\" onClick={handleEditClick}>\r\n                      <EditIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  <Tooltip title=\"Удалить\">\r\n                    <IconButton color=\"error\" onClick={() => setOpenDeleteDialog(true)}>\r\n                      <DeleteIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </Box>\r\n              )}\r\n            </>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Диалог подтверждения удаления */}\r\n      <Dialog\r\n        open={openDeleteDialog}\r\n        onClose={() => setOpenDeleteDialog(false)}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{\"Подтвердите удаление\"}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            Вы уверены, что хотите удалить актив \"{originalAsset.inventory_number}\"?\r\n            Это действие нельзя отменить.\r\n          </DialogContentText>\r\n          {deleteError && (\r\n            <Alert severity=\"error\" style={{ marginTop: '10px' }}>\r\n              {deleteError}\r\n            </Alert>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenDeleteDialog(false)} color=\"primary\">\r\n            Отмена\r\n          </Button>\r\n          <Button onClick={handleDelete} color=\"error\" autoFocus>\r\n            Удалить\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Уведомления */}\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={6000}\r\n        onClose={handleCloseSnackbar}\r\n        message={snackbar.message}\r\n        severity={snackbar.severity}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AssetDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}