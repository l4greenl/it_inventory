{"ast":null,"code":"var _jsxFileName = \"D:\\\\it_inventory.localhost\\\\frontend\\\\src\\\\components\\\\AddAsset.js\",\n  _s = $RefreshSig$();\n// frontend/src/components/AddAsset.js\nimport React, { useState, useEffect } from 'react';\nimport { Container, Box, TextField, Button, Typography, Grid, FormControl, InputLabel, Select, MenuItem, FormHelperText } from '@mui/material';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { API_BASE_URL } from '../config'; // Импорт базового URL\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddAsset = ({\n  currentUser\n}) => {\n  _s();\n  const [asset, setAsset] = useState({\n    serial_number: '',\n    inventory_number: '',\n    type_id: '',\n    brand: '',\n    model: '',\n    status_id: '',\n    actual_user: '',\n    responsible_person: '',\n    department_id: '',\n    room: '',\n    purchase_date: '',\n    comments: ''\n  });\n  const [types, setTypes] = useState([]);\n  const [statuses, setStatuses] = useState([]);\n  const [employees, setEmployees] = useState([]);\n  const [departments, setDepartments] = useState([]);\n  const [typeProperties, setTypeProperties] = useState([]);\n  const [dynamicFields, setDynamicFields] = useState({});\n  const [errors, setErrors] = useState({});\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [typesRes, statusesRes, employeesRes, departmentsRes] = await Promise.all([axios.get(`${API_BASE_URL}/api/types`, {\n          withCredentials: true\n        }), axios.get(`${API_BASE_URL}/api/statuses`, {\n          withCredentials: true\n        }), axios.get(`${API_BASE_URL}/api/employees`, {\n          withCredentials: true\n        }), axios.get(`${API_BASE_URL}/api/departments`, {\n          withCredentials: true\n        })]);\n        setTypes(typesRes.data);\n        setStatuses(statusesRes.data);\n        setEmployees(employeesRes.data);\n        setDepartments(departmentsRes.data);\n      } catch (error) {\n        console.error('Ошибка при загрузке справочников:', error);\n        alert('Не удалось загрузить данные справочников.');\n      }\n    };\n    fetchData();\n  }, []);\n  useEffect(() => {\n    const loadTypeProperties = async () => {\n      if (asset.type_id) {\n        try {\n          const res = await axios.get(`${API_BASE_URL}/api/types/${asset.type_id}/properties`, {\n            withCredentials: true\n          });\n          setTypeProperties(res.data);\n          const initialDynamicFields = {};\n          res.data.forEach(prop => {\n            const fieldName = mapPropertyNameToAssetField(prop.name);\n            if (fieldName) {\n              initialDynamicFields[fieldName] = '';\n            }\n          });\n          setDynamicFields(initialDynamicFields);\n        } catch (error) {\n          console.error('Ошибка при загрузке свойств типа:', error);\n          setTypeProperties([]);\n          setDynamicFields({});\n        }\n      } else {\n        setTypeProperties([]);\n        setDynamicFields({});\n      }\n    };\n    loadTypeProperties();\n  }, [asset.type_id]);\n\n  // <<<--- ИЗМЕНЕНО: Маппинг для \"Операционная система\"\n  const mapPropertyNameToAssetField = propertyName => {\n    const mapping = {\n      'Диагональ': 'diagonal',\n      'Диагональ (дюймы)': 'diagonal',\n      'Операционная система': 'OS',\n      // <<<--- ИЗМЕНЕНО С \"ОС\" на \"Операционная система\"\n      'Процессор': 'CPU',\n      'Оперативная память (ГБ)': 'RAM',\n      'Оперативная память': 'RAM',\n      'Диск (HDD/SSD)': 'Drive',\n      'Диск': 'Drive',\n      'IP-адрес': 'IP_address',\n      // В JS удобнее работать с IP_address\n      'Внутренний номер': 'number'\n    };\n    return mapping[propertyName] || propertyName.toLowerCase().replace(/\\s+/g, '_');\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setAsset(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n  const handleResponsiblePersonChange = async e => {\n    const employeeId = e.target.value;\n    handleChange(e);\n    if (employeeId) {\n      try {\n        const res = await axios.get(`${API_BASE_URL}/api/employees/${employeeId}`, {\n          withCredentials: true\n        });\n        const departmentId = res.data.department_id;\n        setAsset(prevAsset => ({\n          ...prevAsset,\n          department_id: departmentId || ''\n        }));\n        if (errors.department_id) {\n          setErrors(prevErrors => ({\n            ...prevErrors,\n            department_id: ''\n          }));\n        }\n      } catch (error) {\n        console.error('Ошибка при получении данных сотрудника:', error);\n        alert('Не удалось получить отдел сотрудника. Пожалуйста, выберите отдел вручную.');\n        setAsset(prevAsset => ({\n          ...prevAsset,\n          department_id: ''\n        }));\n      }\n    } else {\n      setAsset(prevAsset => ({\n        ...prevAsset,\n        department_id: ''\n      }));\n    }\n  };\n  const handleDynamicFieldChange = fieldName => e => {\n    const {\n      value\n    } = e.target;\n    setDynamicFields(prev => ({\n      ...prev,\n      [fieldName]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const newErrors = {};\n    if (!asset.inventory_number) newErrors.inventory_number = 'Обязательное поле';\n    if (!asset.type_id) newErrors.type_id = 'Обязательное поле';\n    if (!asset.status_id) newErrors.status_id = 'Обязательное поле';\n    if (!asset.responsible_person) newErrors.responsible_person = 'Обязательное поле';\n    if (!asset.department_id) newErrors.department_id = 'Обязательное поле';\n    if (!asset.purchase_date) newErrors.purchase_date = 'Обязательное поле';\n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      return;\n    }\n    try {\n      // Формируем данные для отправки, объединяя основные поля и динамические\n      let dataToSend = {\n        ...asset,\n        ...dynamicFields // Добавляем значения динамических полей\n      };\n\n      // <<<--- ИЗМЕНЕНО: Обработка IP-адреса\n      // Если ключ в dynamicFields - 'IP_address', меняем его на 'IP-address' для бэкенда\n      if (dataToSend.hasOwnProperty('IP_address')) {\n        dataToSend['IP-address'] = dataToSend['IP_address'];\n        delete dataToSend['IP_address'];\n      }\n      await axios.post(`${API_BASE_URL}/api/assets`, dataToSend, {\n        withCredentials: true\n      });\n      alert('Актив успешно добавлен');\n      navigate('/assets');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Ошибка при добавлении актива:', error);\n      alert('Ошибка при добавлении актива: ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || error.message));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    style: {\n      marginTop: '20px'\n    },\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      component: \"form\",\n      onSubmit: handleSubmit,\n      sx: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0430\\u043A\\u0442\\u0438\\u0432\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"\\u0421\\u0435\\u0440\\u0438\\u0439\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440\",\n            name: \"serial_number\",\n            value: asset.serial_number,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"\\u0418\\u043D\\u0432\\u0435\\u043D\\u0442\\u0430\\u0440\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440 *\",\n            name: \"inventory_number\",\n            value: asset.inventory_number,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\",\n            error: !!errors.inventory_number,\n            helperText: errors.inventory_number\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            margin: \"normal\",\n            error: !!errors.type_id,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"type-label\",\n              children: \"\\u0422\\u0438\\u043F \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u0430 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"type-label\",\n              label: \"\\u0422\\u0438\\u043F \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u0430 *\",\n              name: \"type_id\",\n              value: asset.type_id,\n              onChange: handleChange,\n              children: types.map(type => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: type.id,\n                children: type.name\n              }, type.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this), errors.type_id && /*#__PURE__*/_jsxDEV(FormHelperText, {\n              children: errors.type_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 34\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"\\u0424\\u0438\\u0440\\u043C\\u0430\",\n            name: \"brand\",\n            value: asset.brand,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"\\u041C\\u043E\\u0434\\u0435\\u043B\\u044C\",\n            name: \"model\",\n            value: asset.model,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), typeProperties.map(property => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: property.name // <<<--- ИСПОЛЬЗУЕМ ИМЯ СВОЙСТВА ИЗ БД\n            ,\n            name: mapPropertyNameToAssetField(property.name) // <<<--- ИСПОЛЬЗУЕМ МАППИНГ\n            ,\n            value: dynamicFields[mapPropertyNameToAssetField(property.name)] || '',\n            onChange: handleDynamicFieldChange(mapPropertyNameToAssetField(property.name)),\n            fullWidth: true,\n            margin: \"normal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this)\n        }, property.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            margin: \"normal\",\n            error: !!errors.status_id,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"status-label\",\n              children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"status-label\",\n              label: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 *\",\n              name: \"status_id\",\n              value: asset.status_id,\n              onChange: handleChange,\n              children: statuses.map(status => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: status.id,\n                children: status.name\n              }, status.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this), errors.status_id && /*#__PURE__*/_jsxDEV(FormHelperText, {\n              children: errors.status_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 36\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"\\u0424\\u0430\\u043A\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\",\n            name: \"actual_user\",\n            value: asset.actual_user,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            margin: \"normal\",\n            error: !!errors.responsible_person,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"responsible-person-label\",\n              children: \"\\u041E\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u0435\\u043D\\u043D\\u044B\\u0439 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"responsible-person-label\",\n              label: \"\\u041E\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u0435\\u043D\\u043D\\u044B\\u0439 *\",\n              name: \"responsible_person\",\n              value: asset.responsible_person,\n              onChange: handleResponsiblePersonChange // <<<--- ИСПОЛЬЗУЕМ НОВУЮ ФУНКЦИЮ\n              ,\n              children: employees.map(emp => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: emp.id,\n                children: emp.name\n              }, emp.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this), errors.responsible_person && /*#__PURE__*/_jsxDEV(FormHelperText, {\n              children: errors.responsible_person\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            margin: \"normal\",\n            error: !!errors.department_id,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"department-label\",\n              children: \"\\u041E\\u0442\\u0434\\u0435\\u043B (\\u043F\\u043E\\u0434\\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435) *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"department-label\",\n              label: \"\\u041E\\u0442\\u0434\\u0435\\u043B (\\u043F\\u043E\\u0434\\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435) *\",\n              name: \"department_id\",\n              value: asset.department_id,\n              onChange: handleChange,\n              disabled: true // <<<--- ПОЛЕ ЗАБЛОКИРОВАНО\n              ,\n              style: {\n                backgroundColor: '#f5f5f5',\n                color: 'rgba(0, 0, 0, 0.38)',\n                cursor: 'not-allowed'\n              },\n              children: departments.map(dept => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: dept.id,\n                children: dept.name\n              }, dept.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this), errors.department_id && /*#__PURE__*/_jsxDEV(FormHelperText, {\n              children: errors.department_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 40\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"\\u041F\\u043E\\u043C\\u0435\\u0449\\u0435\\u043D\\u0438\\u0435\",\n            name: \"room\",\n            value: asset.room,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438 *\",\n            name: \"purchase_date\",\n            type: \"date\",\n            value: asset.purchase_date,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\",\n            error: !!errors.purchase_date,\n            helperText: errors.purchase_date,\n            InputLabelProps: {\n              shrink: true\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\",\n            name: \"comments\",\n            value: asset.comments,\n            onChange: handleChange,\n            fullWidth: true,\n            multiline: true,\n            rows: 3,\n            margin: \"normal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        fullWidth: true,\n        style: {\n          marginTop: '20px'\n        },\n        disabled: !currentUser || currentUser.role !== 'admin',\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0430\\u043A\\u0442\\u0438\\u0432\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 5\n  }, this);\n};\n_s(AddAsset, \"Ef8iNMCAW2yMnYS0jUualqlYySE=\", false, function () {\n  return [useNavigate];\n});\n_c = AddAsset;\nexport default AddAsset;\nvar _c;\n$RefreshReg$(_c, \"AddAsset\");","map":{"version":3,"names":["React","useState","useEffect","Container","Box","TextField","Button","Typography","Grid","FormControl","InputLabel","Select","MenuItem","FormHelperText","axios","useNavigate","API_BASE_URL","jsxDEV","_jsxDEV","AddAsset","currentUser","_s","asset","setAsset","serial_number","inventory_number","type_id","brand","model","status_id","actual_user","responsible_person","department_id","room","purchase_date","comments","types","setTypes","statuses","setStatuses","employees","setEmployees","departments","setDepartments","typeProperties","setTypeProperties","dynamicFields","setDynamicFields","errors","setErrors","navigate","fetchData","typesRes","statusesRes","employeesRes","departmentsRes","Promise","all","get","withCredentials","data","error","console","alert","loadTypeProperties","res","initialDynamicFields","forEach","prop","fieldName","mapPropertyNameToAssetField","name","propertyName","mapping","toLowerCase","replace","handleChange","e","value","target","prev","handleResponsiblePersonChange","employeeId","departmentId","prevAsset","prevErrors","handleDynamicFieldChange","handleSubmit","preventDefault","newErrors","Object","keys","length","dataToSend","hasOwnProperty","post","_error$response","_error$response$data","response","message","maxWidth","style","marginTop","children","component","onSubmit","sx","display","flexDirection","gap","variant","fileName","_jsxFileName","lineNumber","columnNumber","container","spacing","item","xs","sm","label","onChange","fullWidth","margin","helperText","id","labelId","map","type","property","status","emp","disabled","backgroundColor","color","cursor","dept","InputLabelProps","shrink","multiline","rows","role","_c","$RefreshReg$"],"sources":["D:/it_inventory.localhost/frontend/src/components/AddAsset.js"],"sourcesContent":["// frontend/src/components/AddAsset.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Container, Box, TextField, Button, Typography, Grid, FormControl, InputLabel, Select, MenuItem, FormHelperText } from '@mui/material';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { API_BASE_URL } from '../config'; // Импорт базового URL\r\n\r\nconst AddAsset = ({ currentUser }) => {\r\n  const [asset, setAsset] = useState({\r\n    serial_number: '',\r\n    inventory_number: '',\r\n    type_id: '',\r\n    brand: '',\r\n    model: '',\r\n    status_id: '',\r\n    actual_user: '',\r\n    responsible_person: '',\r\n    department_id: '',\r\n    room: '',\r\n    purchase_date: '',\r\n    comments: ''\r\n  });\r\n\r\n  const [types, setTypes] = useState([]);\r\n  const [statuses, setStatuses] = useState([]);\r\n  const [employees, setEmployees] = useState([]);\r\n  const [departments, setDepartments] = useState([]);\r\n\r\n  const [typeProperties, setTypeProperties] = useState([]);\r\n  const [dynamicFields, setDynamicFields] = useState({});\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [typesRes, statusesRes, employeesRes, departmentsRes] = await Promise.all([\r\n          axios.get(`${API_BASE_URL}/api/types`, { withCredentials: true }),\r\n          axios.get(`${API_BASE_URL}/api/statuses`, { withCredentials: true }),\r\n          axios.get(`${API_BASE_URL}/api/employees`, { withCredentials: true }),\r\n          axios.get(`${API_BASE_URL}/api/departments`, { withCredentials: true }),\r\n        ]);\r\n\r\n        setTypes(typesRes.data);\r\n        setStatuses(statusesRes.data);\r\n        setEmployees(employeesRes.data);\r\n        setDepartments(departmentsRes.data);\r\n      } catch (error) {\r\n        console.error('Ошибка при загрузке справочников:', error);\r\n        alert('Не удалось загрузить данные справочников.');\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const loadTypeProperties = async () => {\r\n      if (asset.type_id) {\r\n        try {\r\n          const res = await axios.get(`${API_BASE_URL}/api/types/${asset.type_id}/properties`, { withCredentials: true });\r\n          setTypeProperties(res.data);\r\n\r\n          const initialDynamicFields = {};\r\n          res.data.forEach(prop => {\r\n            const fieldName = mapPropertyNameToAssetField(prop.name);\r\n            if (fieldName) {\r\n              initialDynamicFields[fieldName] = '';\r\n            }\r\n          });\r\n          setDynamicFields(initialDynamicFields);\r\n        } catch (error) {\r\n          console.error('Ошибка при загрузке свойств типа:', error);\r\n          setTypeProperties([]);\r\n          setDynamicFields({});\r\n        }\r\n      } else {\r\n        setTypeProperties([]);\r\n        setDynamicFields({});\r\n      }\r\n    };\r\n\r\n    loadTypeProperties();\r\n  }, [asset.type_id]);\r\n\r\n  // <<<--- ИЗМЕНЕНО: Маппинг для \"Операционная система\"\r\n  const mapPropertyNameToAssetField = (propertyName) => {\r\n    const mapping = {\r\n      'Диагональ': 'diagonal',\r\n      'Диагональ (дюймы)': 'diagonal',\r\n      'Операционная система': 'OS', // <<<--- ИЗМЕНЕНО С \"ОС\" на \"Операционная система\"\r\n      'Процессор': 'CPU',\r\n      'Оперативная память (ГБ)': 'RAM',\r\n      'Оперативная память': 'RAM',\r\n      'Диск (HDD/SSD)': 'Drive',\r\n      'Диск': 'Drive',\r\n      'IP-адрес': 'IP_address', // В JS удобнее работать с IP_address\r\n      'Внутренний номер': 'number',\r\n    };\r\n    return mapping[propertyName] || propertyName.toLowerCase().replace(/\\s+/g, '_');\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setAsset((prev) => ({ ...prev, [name]: value }));\r\n\r\n    if (errors[name]) {\r\n      setErrors((prev) => ({ ...prev, [name]: '' }));\r\n    }\r\n  };\r\n\r\n  const handleResponsiblePersonChange = async (e) => {\r\n    const employeeId = e.target.value;\r\n    handleChange(e);\r\n\r\n    if (employeeId) {\r\n      try {\r\n        const res = await axios.get(`${API_BASE_URL}/api/employees/${employeeId}`, { withCredentials: true });\r\n        const departmentId = res.data.department_id;\r\n\r\n        setAsset(prevAsset => ({\r\n          ...prevAsset,\r\n          department_id: departmentId || ''\r\n        }));\r\n\r\n        if (errors.department_id) {\r\n          setErrors(prevErrors => ({ ...prevErrors, department_id: '' }));\r\n        }\r\n\r\n      } catch (error) {\r\n        console.error('Ошибка при получении данных сотрудника:', error);\r\n        alert('Не удалось получить отдел сотрудника. Пожалуйста, выберите отдел вручную.');\r\n        setAsset(prevAsset => ({\r\n          ...prevAsset,\r\n          department_id: ''\r\n        }));\r\n      }\r\n    } else {\r\n      setAsset(prevAsset => ({\r\n        ...prevAsset,\r\n        department_id: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleDynamicFieldChange = (fieldName) => (e) => {\r\n    const { value } = e.target;\r\n    setDynamicFields((prev) => ({ ...prev, [fieldName]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const newErrors = {};\r\n\r\n    if (!asset.inventory_number) newErrors.inventory_number = 'Обязательное поле';\r\n    if (!asset.type_id) newErrors.type_id = 'Обязательное поле';\r\n    if (!asset.status_id) newErrors.status_id = 'Обязательное поле';\r\n    if (!asset.responsible_person) newErrors.responsible_person = 'Обязательное поле';\r\n    if (!asset.department_id) newErrors.department_id = 'Обязательное поле';\r\n    if (!asset.purchase_date) newErrors.purchase_date = 'Обязательное поле';\r\n\r\n    if (Object.keys(newErrors).length > 0) {\r\n      setErrors(newErrors);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Формируем данные для отправки, объединяя основные поля и динамические\r\n      let dataToSend = {\r\n        ...asset,\r\n        ...dynamicFields // Добавляем значения динамических полей\r\n      };\r\n\r\n      // <<<--- ИЗМЕНЕНО: Обработка IP-адреса\r\n      // Если ключ в dynamicFields - 'IP_address', меняем его на 'IP-address' для бэкенда\r\n      if (dataToSend.hasOwnProperty('IP_address')) {\r\n        dataToSend['IP-address'] = dataToSend['IP_address'];\r\n        delete dataToSend['IP_address'];\r\n      }\r\n\r\n      await axios.post(`${API_BASE_URL}/api/assets`, dataToSend, { withCredentials: true });\r\n      alert('Актив успешно добавлен');\r\n      navigate('/assets');\r\n    } catch (error) {\r\n      console.error('Ошибка при добавлении актива:', error);\r\n      alert('Ошибка при добавлении актива: ' + (error.response?.data?.error || error.message));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"md\" style={{ marginTop: '20px' }}>\r\n      <Box component=\"form\" onSubmit={handleSubmit} sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\r\n        <Typography variant=\"h5\">Добавить актив</Typography>\r\n\r\n        <Grid container spacing={2}>\r\n          {/* Серийный номер */}\r\n          <Grid item xs={12} sm={6}>\r\n            <TextField\r\n              label=\"Серийный номер\"\r\n              name=\"serial_number\"\r\n              value={asset.serial_number}\r\n              onChange={handleChange}\r\n              fullWidth\r\n              margin=\"normal\"\r\n            />\r\n          </Grid>\r\n\r\n          {/* Инвентарный номер */}\r\n          <Grid item xs={12} sm={6}>\r\n            <TextField\r\n              label=\"Инвентарный номер *\"\r\n              name=\"inventory_number\"\r\n              value={asset.inventory_number}\r\n              onChange={handleChange}\r\n              fullWidth\r\n              margin=\"normal\"\r\n              error={!!errors.inventory_number}\r\n              helperText={errors.inventory_number}\r\n            />\r\n          </Grid>\r\n\r\n          {/* Тип устройства */}\r\n          <Grid item xs={12}>\r\n            <FormControl fullWidth margin=\"normal\" error={!!errors.type_id}>\r\n              <InputLabel id=\"type-label\">Тип устройства *</InputLabel>\r\n              <Select\r\n                labelId=\"type-label\"\r\n                label=\"Тип устройства *\"\r\n                name=\"type_id\"\r\n                value={asset.type_id}\r\n                onChange={handleChange}\r\n              >\r\n                {types.map((type) => (\r\n                  <MenuItem key={type.id} value={type.id}>\r\n                    {type.name}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n              {errors.type_id && <FormHelperText>{errors.type_id}</FormHelperText>}\r\n            </FormControl>\r\n          </Grid>\r\n\r\n          {/* Фирма */}\r\n          <Grid item xs={12} sm={6}>\r\n            <TextField\r\n              label=\"Фирма\"\r\n              name=\"brand\"\r\n              value={asset.brand}\r\n              onChange={handleChange}\r\n              fullWidth\r\n              margin=\"normal\"\r\n            />\r\n          </Grid>\r\n\r\n          {/* Модель */}\r\n          <Grid item xs={12} sm={6}>\r\n            <TextField\r\n              label=\"Модель\"\r\n              name=\"model\"\r\n              value={asset.model}\r\n              onChange={handleChange}\r\n              fullWidth\r\n              margin=\"normal\"\r\n            />\r\n          </Grid>\r\n\r\n          {/* Динамические поля, полученные из type_properties */}\r\n          {typeProperties.map((property) => (\r\n            <Grid item xs={12} key={property.id}>\r\n              <TextField\r\n                label={property.name} // <<<--- ИСПОЛЬЗУЕМ ИМЯ СВОЙСТВА ИЗ БД\r\n                name={mapPropertyNameToAssetField(property.name)} // <<<--- ИСПОЛЬЗУЕМ МАППИНГ\r\n                value={dynamicFields[mapPropertyNameToAssetField(property.name)] || ''}\r\n                onChange={handleDynamicFieldChange(mapPropertyNameToAssetField(property.name))}\r\n                fullWidth\r\n                margin=\"normal\"\r\n              />\r\n            </Grid>\r\n          ))}\r\n\r\n          {/* Статус */}\r\n          <Grid item xs={12} sm={6}>\r\n            <FormControl fullWidth margin=\"normal\" error={!!errors.status_id}>\r\n              <InputLabel id=\"status-label\">Статус *</InputLabel>\r\n              <Select\r\n                labelId=\"status-label\"\r\n                label=\"Статус *\"\r\n                name=\"status_id\"\r\n                value={asset.status_id}\r\n                onChange={handleChange}\r\n              >\r\n                {statuses.map((status) => (\r\n                  <MenuItem key={status.id} value={status.id}>\r\n                    {status.name}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n              {errors.status_id && <FormHelperText>{errors.status_id}</FormHelperText>}\r\n            </FormControl>\r\n          </Grid>\r\n\r\n          {/* Фактический пользователь */}\r\n          <Grid item xs={12} sm={6}>\r\n            <TextField\r\n              label=\"Фактический пользователь\"\r\n              name=\"actual_user\"\r\n              value={asset.actual_user}\r\n              onChange={handleChange}\r\n              fullWidth\r\n              margin=\"normal\"\r\n            />\r\n          </Grid>\r\n\r\n          {/* Ответственный */}\r\n          <Grid item xs={12} sm={6}>\r\n            <FormControl fullWidth margin=\"normal\" error={!!errors.responsible_person}>\r\n              <InputLabel id=\"responsible-person-label\">Ответственный *</InputLabel>\r\n              <Select\r\n                labelId=\"responsible-person-label\"\r\n                label=\"Ответственный *\"\r\n                name=\"responsible_person\"\r\n                value={asset.responsible_person}\r\n                onChange={handleResponsiblePersonChange} // <<<--- ИСПОЛЬЗУЕМ НОВУЮ ФУНКЦИЮ\r\n              >\r\n                {employees.map((emp) => (\r\n                  <MenuItem key={emp.id} value={emp.id}>\r\n                    {emp.name}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n              {errors.responsible_person && <FormHelperText>{errors.responsible_person}</FormHelperText>}\r\n            </FormControl>\r\n          </Grid>\r\n\r\n          {/* Отдел (подразделение) */}\r\n          <Grid item xs={12} sm={6}>\r\n            <FormControl fullWidth margin=\"normal\" error={!!errors.department_id}>\r\n              <InputLabel id=\"department-label\">Отдел (подразделение) *</InputLabel>\r\n              <Select\r\n                labelId=\"department-label\"\r\n                label=\"Отдел (подразделение) *\"\r\n                name=\"department_id\"\r\n                value={asset.department_id}\r\n                onChange={handleChange}\r\n                disabled // <<<--- ПОЛЕ ЗАБЛОКИРОВАНО\r\n                style={{\r\n                  backgroundColor: '#f5f5f5',\r\n                  color: 'rgba(0, 0, 0, 0.38)',\r\n                  cursor: 'not-allowed'\r\n                }}\r\n              >\r\n                {departments.map((dept) => (\r\n                  <MenuItem key={dept.id} value={dept.id}>\r\n                    {dept.name}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n              {errors.department_id && <FormHelperText>{errors.department_id}</FormHelperText>}\r\n            </FormControl>\r\n          </Grid>\r\n\r\n          {/* Помещение */}\r\n          <Grid item xs={12} sm={6}>\r\n            <TextField\r\n              label=\"Помещение\"\r\n              name=\"room\"\r\n              value={asset.room}\r\n              onChange={handleChange}\r\n              fullWidth\r\n              margin=\"normal\"\r\n            />\r\n          </Grid>\r\n\r\n          {/* Дата покупки */}\r\n          <Grid item xs={12} sm={6}>\r\n            <TextField\r\n              label=\"Дата покупки *\"\r\n              name=\"purchase_date\"\r\n              type=\"date\"\r\n              value={asset.purchase_date}\r\n              onChange={handleChange}\r\n              fullWidth\r\n              margin=\"normal\"\r\n              error={!!errors.purchase_date}\r\n              helperText={errors.purchase_date}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n            />\r\n          </Grid>\r\n\r\n          {/* Комментарий */}\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              label=\"Комментарий\"\r\n              name=\"comments\"\r\n              value={asset.comments}\r\n              onChange={handleChange}\r\n              fullWidth\r\n              multiline\r\n              rows={3}\r\n              margin=\"normal\"\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Button\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          fullWidth\r\n          style={{ marginTop: '20px' }}\r\n          disabled={!currentUser || currentUser.role !== 'admin'}\r\n        >\r\n          Добавить актив\r\n        </Button>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AddAsset;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}