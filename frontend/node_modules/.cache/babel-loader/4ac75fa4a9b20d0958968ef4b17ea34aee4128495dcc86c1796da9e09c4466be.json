{"ast":null,"code":"var _jsxFileName = \"D:\\\\it_inventory.localhost\\\\frontend\\\\src\\\\components\\\\AssetList.js\",\n  _s = $RefreshSig$();\n// frontend/src/components/AssetList.js\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Container, Typography, Box, TextField, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Button, Select, MenuItem, FormControl, InputLabel, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Alert, Snackbar, TablePagination, TableSortLabel } from '@mui/material';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config'; // Импорт базового URL\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AssetList = ({\n  currentUser\n}) => {\n  _s();\n  const [assets, setAssets] = useState([]);\n  const [filteredAssets, setFilteredAssets] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  // <<<--- ИЗМЕНЕНО: categories на types\n  const [types, setTypes] = useState([]); // Ранее categories\n  const [statuses, setStatuses] = useState([]);\n  const [departments, setDepartments] = useState([]);\n  const [employees, setEmployees] = useState([]);\n  const [selectedAssets, setSelectedAssets] = useState([]);\n  const [sortColumn, setSortColumn] = useState('inventory_number');\n  const [sortOrder, setSortOrder] = useState('asc');\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(50);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'success'\n  });\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n  const [assetToDelete, setAssetToDelete] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  // Загрузка данных\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      setError('');\n      try {\n        // <<<--- ИЗМЕНЕНО: Использование withCredentials и API_BASE_URL\n        // <<<--- ИЗМЕНЕНО: /api/categories на /api/types\n        const [assetsRes, typesRes, statusesRes, departmentsRes, employeesRes] = await Promise.all([axios.get(`${API_BASE_URL}/api/assets`, {\n          withCredentials: true\n        }), axios.get(`${API_BASE_URL}/api/types`, {\n          withCredentials: true\n        }),\n        // Ранее categories\n        axios.get(`${API_BASE_URL}/api/statuses`, {\n          withCredentials: true\n        }), axios.get(`${API_BASE_URL}/api/departments`, {\n          withCredentials: true\n        }), axios.get(`${API_BASE_URL}/api/employees`, {\n          withCredentials: true\n        })]);\n        setAssets(assetsRes.data);\n        // <<<--- ИЗМЕНЕНО: setCategories на setTypes\n        setTypes(typesRes.data); // Ранее setCategories\n        setStatuses(statusesRes.data);\n        setDepartments(departmentsRes.data);\n        setEmployees(employeesRes.data);\n        setFilteredAssets(assetsRes.data);\n      } catch (err) {\n        console.error('Ошибка загрузки данных:', err);\n        // Проверим, связана ли ошибка с аутентификацией\n        if (err.response && err.response.status === 401) {\n          setError('Ошибка аутентификации. Пожалуйста, войдите снова.');\n        } else {\n          setError('Ошибка загрузки данных. Пожалуйста, попробуйте позже.');\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Фильтрация и сортировка\n  useEffect(() => {\n    let result = assets;\n\n    // Поиск\n    if (searchTerm) {\n      const term = searchTerm.toLowerCase();\n      result = result.filter(asset => asset.inventory_number && asset.inventory_number.toLowerCase().includes(term) || asset.serial_number && asset.serial_number.toLowerCase().includes(term) || asset.brand && asset.brand.toLowerCase().includes(term) || asset.model && asset.model.toLowerCase().includes(term)\n      // Можно добавить поиск по другим полям\n      );\n    }\n\n    // Сортировка\n    result = [...result].sort((a, b) => {\n      let aValue = a[sortColumn];\n      let bValue = b[sortColumn];\n\n      // Для числовых значений и дат\n      if (sortColumn === 'purchase_date') {\n        aValue = aValue ? new Date(aValue) : new Date(0);\n        bValue = bValue ? new Date(bValue) : new Date(0);\n      } else if (typeof aValue === 'string') {\n        aValue = aValue.toLowerCase();\n        bValue = bValue.toLowerCase();\n      }\n      if (aValue < bValue) {\n        return sortOrder === 'asc' ? -1 : 1;\n      }\n      if (aValue > bValue) {\n        return sortOrder === 'asc' ? 1 : -1;\n      }\n      return 0;\n    });\n    setFilteredAssets(result);\n    setPage(0); // Сбросить на первую страницу после фильтрации\n  }, [assets, searchTerm, sortColumn, sortOrder]);\n\n  // Функции для получения имен по ID\n  // <<<--- ИЗМЕНЕНО: getCategoryName использует types вместо categories\n  const getTypeName = typeId => {\n    // Ранее getCategoryName\n    const type = types.find(c => c.id === typeId); // Ранее categories\n    return type ? type.name : 'Не указано';\n  };\n  const getStatusName = statusId => {\n    const status = statuses.find(s => s.id === statusId);\n    return status ? status.name : 'Не указано';\n  };\n  const getDepartmentName = deptId => {\n    const dept = departments.find(d => d.id === deptId);\n    return dept ? dept.name : 'Не указано';\n  };\n  const getEmployeeName = empId => {\n    const emp = employees.find(e => e.id === empId);\n    return emp ? emp.name : 'Не указано';\n  };\n\n  // Сортировка\n  const handleSort = column => {\n    if (sortColumn === column) {\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortColumn(column);\n      setSortOrder('asc');\n    }\n  };\n\n  // Пагинация\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  // Выбор активов\n  const handleSelectAll = event => {\n    if (event.target.checked) {\n      const newSelected = filteredAssets.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(asset => asset.id);\n      setSelectedAssets(newSelected);\n    } else {\n      setSelectedAssets([]);\n    }\n  };\n  const handleSelectOne = (event, id) => {\n    const selectedIndex = selectedAssets.indexOf(id);\n    let newSelected = [];\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selectedAssets, id);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selectedAssets.slice(1));\n    } else if (selectedIndex === selectedAssets.length - 1) {\n      newSelected = newSelected.concat(selectedAssets.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(selectedAssets.slice(0, selectedIndex), selectedAssets.slice(selectedIndex + 1));\n    }\n    setSelectedAssets(newSelected);\n  };\n  const isSelected = id => selectedAssets.indexOf(id) !== -1;\n\n  // Печать QR-кодов\n  const handlePrintQRCode = async () => {\n    if (selectedAssets.length === 0) {\n      setSnackbar({\n        open: true,\n        message: 'Выберите хотя бы один актив',\n        severity: 'warning'\n      });\n      return;\n    }\n    try {\n      // <<<--- ИЗМЕНЕНО: Использование withCredentials и API_BASE_URL\n      const res = await axios.post(`${API_BASE_URL}/api/qrcodes`, {\n        ids: selectedAssets\n      }, {\n        withCredentials: true\n      });\n      const codes = res.data;\n      let htmlContent = `\n        <html>\n          <head>\n            <style>\n              @page {\n                size: A4;\n                margin: 0;\n              }\n\n              body {\n                width: 21cm;\n                padding: 0;\n                background-color: #fff;\n                font-family: Arial, sans-serif;\n              }\n\n              .page {\n                display: flex;\n                flex-wrap: wrap;\n                gap: 10px;\n                padding: 20px;\n                box-sizing: border-box;\n                page-break-after: always;\n                break-after: page;\n              }\n\n              .qr-wrapper {\n                width: 3cm;\n                height: 3cm;\n                position: relative;\n                text-align: center;\n                font-size: 10px;\n                box-sizing: border-box;\n                page-break-inside: avoid;\n                break-inside: avoid;\n              }\n\n              .qr-container {\n                width: 100%;\n                height: calc(100% - 20px); /* Оставляем место для текста */\n                display: flex;\n                justify-content: center;\n                align-items: center;\n              }\n\n              img {\n                max-width: 100%;\n                max-height: 100%;\n                object-fit: contain;\n              }\n\n              .text-top,\n              .text-bottom {\n                position: absolute;\n                left: 50%;\n                transform: translateX(-50%);\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                width: 90%;\n                font-size: 8px;\n              }\n\n              .text-top {\n                top: 0;\n              }\n\n              .text-bottom {\n                bottom: 0;\n              }\n            </style>\n          </head>\n          <body>\n      `;\n\n      // Группируем по 48 кодов на страницу\n      const itemsPerPage = 48;\n      for (let i = 0; i < codes.length; i += itemsPerPage) {\n        const pageItems = codes.slice(i, i + itemsPerPage);\n        htmlContent += `<div class=\"page\">`;\n        pageItems.forEach(code => {\n          // Исправлена ошибка: было (code, asset)\n          htmlContent += `\n            <div class=\"qr-wrapper\">\n              <div class=\"qr-container\">\n                <img src=\"data:image/png;base64,${code.qr_base64}\" />\n              </div>\n              <span class=\"text-top\">${code.full_name || ''}</span>\n              <span class=\"text-bottom\">${code.inventory_number || ''}</span>\n            </div>\n          `;\n        });\n        htmlContent += `</div>`;\n      }\n      htmlContent += '</body></html>';\n      const printWindow = window.open('', '_blank');\n      printWindow.document.write(htmlContent);\n      setTimeout(() => {\n        printWindow.print();\n        printWindow.close();\n      }, 500);\n    } catch (err) {\n      console.error('Ошибка при генерации QR-кодов:', err);\n      setSnackbar({\n        open: true,\n        message: 'Не удалось получить QR-коды с сервера',\n        severity: 'error'\n      });\n    }\n  };\n\n  // Удаление актива\n  const handleDelete = async () => {\n    if (!assetToDelete) return;\n    try {\n      // <<<--- ИЗМЕНЕНО: Использование withCredentials и API_BASE_URL\n      await axios.delete(`${API_BASE_URL}/api/assets/${assetToDelete.id}`, {\n        withCredentials: true\n      });\n      setAssets(assets.filter(asset => asset.id !== assetToDelete.id));\n      setSnackbar({\n        open: true,\n        message: 'Актив успешно удален',\n        severity: 'success'\n      });\n      setDeleteDialogOpen(false);\n      setAssetToDelete(null);\n    } catch (err) {\n      console.error('Ошибка при удалении актива:', err);\n      setSnackbar({\n        open: true,\n        message: 'Ошибка при удалении актива',\n        severity: 'error'\n      });\n    }\n  };\n  const openDeleteDialog = asset => {\n    setAssetToDelete(asset);\n    setDeleteDialogOpen(true);\n  };\n  const closeDeleteDialog = () => {\n    setDeleteDialogOpen(false);\n    setAssetToDelete(null);\n  };\n\n  // Уведомления\n  const handleCloseSnackbar = () => {\n    setSnackbar({\n      ...snackbar,\n      open: false\n    });\n  };\n\n  // Пагинация\n  const paginatedAssets = filteredAssets.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\n  const isAllSelected = paginatedAssets.length > 0 && selectedAssets.length === paginatedAssets.length;\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      style: {\n        marginTop: '20px',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      style: {\n        marginTop: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"xl\",\n    style: {\n      marginTop: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      mb: 2,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        style: {\n          textAlign: 'center',\n          fontSize: '30px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u041E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handlePrintQRCode,\n          disabled: selectedAssets.length === 0,\n          style: {\n            marginRight: '10px'\n          },\n          children: \"\\u041F\\u0435\\u0447\\u0430\\u0442\\u044C QR-\\u043A\\u043E\\u0434\\u043E\\u0432\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), currentUser && currentUser.role === 'admin' && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: () => navigate('/assets/add'),\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"\\u041F\\u043E\\u0438\\u0441\\u043A\",\n      variant: \"outlined\",\n      fullWidth: true,\n      value: searchTerm,\n      onChange: e => setSearchTerm(e.target.value),\n      style: {\n        marginBottom: '20px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              padding: \"checkbox\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: isAllSelected,\n                onChange: handleSelectAll\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                active: sortColumn === 'inventory_number',\n                direction: sortColumn === 'inventory_number' ? sortOrder : 'asc',\n                onClick: () => handleSort('inventory_number'),\n                children: \"\\u0418\\u043D\\u0432\\u0435\\u043D\\u0442\\u0430\\u0440\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                active: sortColumn === 'serial_number',\n                direction: sortColumn === 'serial_number' ? sortOrder : 'asc',\n                onClick: () => handleSort('serial_number'),\n                children: \"\\u0421\\u0435\\u0440\\u0438\\u0439\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                active: sortColumn === 'type_id' // Ранее category_id\n                ,\n                direction: sortColumn === 'type_id' ? sortOrder : 'asc' // Ранее category_id\n                ,\n                onClick: () => handleSort('type_id') // Ранее category_id\n                ,\n                children: \"\\u0422\\u0438\\u043F \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u0430 \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                active: sortColumn === 'brand',\n                direction: sortColumn === 'brand' ? sortOrder : 'asc',\n                onClick: () => handleSort('brand'),\n                children: \"\\u0424\\u0438\\u0440\\u043C\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                active: sortColumn === 'model',\n                direction: sortColumn === 'model' ? sortOrder : 'asc',\n                onClick: () => handleSort('model'),\n                children: \"\\u041C\\u043E\\u0434\\u0435\\u043B\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                active: sortColumn === 'status_id',\n                direction: sortColumn === 'status_id' ? sortOrder : 'asc',\n                onClick: () => handleSort('status_id'),\n                children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                active: sortColumn === 'responsible_person',\n                direction: sortColumn === 'responsible_person' ? sortOrder : 'asc',\n                onClick: () => handleSort('responsible_person'),\n                children: \"\\u041E\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u0435\\u043D\\u043D\\u044B\\u0439\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                active: sortColumn === 'department_id',\n                direction: sortColumn === 'department_id' ? sortOrder : 'asc',\n                onClick: () => handleSort('department_id'),\n                children: \"\\u041E\\u0442\\u0434\\u0435\\u043B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                active: sortColumn === 'room',\n                direction: sortColumn === 'room' ? sortOrder : 'asc',\n                onClick: () => handleSort('room'),\n                children: \"\\u041F\\u043E\\u043C\\u0435\\u0449\\u0435\\u043D\\u0438\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                active: sortColumn === 'purchase_date',\n                direction: sortColumn === 'purchase_date' ? sortOrder : 'asc',\n                onClick: () => handleSort('purchase_date'),\n                children: \"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 15\n            }, this), currentUser && currentUser.role === 'admin' && /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 63\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: paginatedAssets.length > 0 ? paginatedAssets.map(asset => {\n            const isItemSelected = isSelected(asset.id);\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              hover: true,\n              onClick: event => {\n                if (event.target.type !== 'checkbox' && event.target.tagName !== 'BUTTON') {\n                  navigate(`/assets/${asset.id}`);\n                }\n              },\n              style: {\n                cursor: 'pointer'\n              },\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                padding: \"checkbox\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: isItemSelected,\n                  onChange: event => handleSelectOne(event, asset.id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: asset.inventory_number\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: asset.serial_number || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 557,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: getTypeName(asset.type_id) || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 559,\n                columnNumber: 21\n              }, this), \" \", /*#__PURE__*/_jsxDEV(TableCell, {\n                children: asset.brand || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: asset.model || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: getStatusName(asset.status_id) || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: getEmployeeName(asset.responsible_person) || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: getDepartmentName(asset.department_id) || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: asset.room || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 565,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: asset.purchase_date ? new Date(asset.purchase_date).toLocaleDateString() : '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 21\n              }, this), currentUser && currentUser.role === 'admin' && /*#__PURE__*/_jsxDEV(TableCell, {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  size: \"small\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    navigate(`/assets/${asset.id}`);\n                  },\n                  style: {\n                    marginRight: '5px'\n                  },\n                  children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  color: \"error\",\n                  size: \"small\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    openDeleteDialog(asset);\n                  },\n                  children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 23\n              }, this)]\n            }, asset.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 19\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(TableRow, {\n            children: /*#__PURE__*/_jsxDEV(TableCell, {\n              colSpan: currentUser && currentUser.role === 'admin' ? 12 : 11,\n              align: \"center\",\n              children: \"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n      rowsPerPageOptions: [10, 25, 50, 100],\n      component: \"div\",\n      count: filteredAssets.length,\n      rowsPerPage: rowsPerPage,\n      page: page,\n      onPageChange: handleChangePage,\n      onRowsPerPageChange: handleChangeRowsPerPage,\n      labelRowsPerPage: \"\\u0421\\u0442\\u0440\\u043E\\u043A \\u043D\\u0430 \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0435:\",\n      labelDisplayedRows: ({\n        from,\n        to,\n        count\n      }) => `${from}-${to} из ${count}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: deleteDialogOpen,\n      onClose: closeDeleteDialog,\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-title\",\n        children: \"Подтвердите удаление\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          id: \"alert-dialog-description\",\n          children: [\"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B, \\u0447\\u0442\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0430\\u043A\\u0442\\u0438\\u0432 \\\"\", assetToDelete === null || assetToDelete === void 0 ? void 0 : assetToDelete.inventory_number, \"\\\"? \\u042D\\u0442\\u043E \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435 \\u043D\\u0435\\u043B\\u044C\\u0437\\u044F \\u043E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 632,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: closeDeleteDialog,\n          color: \"primary\",\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleDelete,\n          color: \"error\",\n          autoFocus: true,\n          children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 637,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 622,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackbar.open,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnackbar,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseSnackbar,\n        severity: snackbar.severity,\n        sx: {\n          width: '100%'\n        },\n        children: snackbar.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 649,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 648,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 393,\n    columnNumber: 5\n  }, this);\n};\n_s(AssetList, \"74zZIVZenE7ZO5GHcVL1BecUm78=\", false, function () {\n  return [useNavigate];\n});\n_c = AssetList;\nexport default AssetList;\nvar _c;\n$RefreshReg$(_c, \"AssetList\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Container","Typography","Box","TextField","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","Select","MenuItem","FormControl","InputLabel","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Alert","Snackbar","TablePagination","TableSortLabel","axios","API_BASE_URL","jsxDEV","_jsxDEV","AssetList","currentUser","_s","assets","setAssets","filteredAssets","setFilteredAssets","searchTerm","setSearchTerm","types","setTypes","statuses","setStatuses","departments","setDepartments","employees","setEmployees","selectedAssets","setSelectedAssets","sortColumn","setSortColumn","sortOrder","setSortOrder","page","setPage","rowsPerPage","setRowsPerPage","snackbar","setSnackbar","open","message","severity","deleteDialogOpen","setDeleteDialogOpen","assetToDelete","setAssetToDelete","loading","setLoading","error","setError","navigate","fetchData","assetsRes","typesRes","statusesRes","departmentsRes","employeesRes","Promise","all","get","withCredentials","data","err","console","response","status","result","term","toLowerCase","filter","asset","inventory_number","includes","serial_number","brand","model","sort","a","b","aValue","bValue","Date","getTypeName","typeId","type","find","c","id","name","getStatusName","statusId","s","getDepartmentName","deptId","dept","d","getEmployeeName","empId","emp","e","handleSort","column","handleChangePage","event","newPage","handleChangeRowsPerPage","parseInt","target","value","handleSelectAll","checked","newSelected","slice","map","handleSelectOne","selectedIndex","indexOf","concat","length","isSelected","handlePrintQRCode","res","post","ids","codes","htmlContent","itemsPerPage","i","pageItems","forEach","code","qr_base64","full_name","printWindow","window","document","write","setTimeout","print","close","handleDelete","delete","openDeleteDialog","closeDeleteDialog","handleCloseSnackbar","paginatedAssets","isAllSelected","maxWidth","style","marginTop","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","display","justifyContent","alignItems","mb","variant","gutterBottom","fontSize","color","onClick","disabled","marginRight","role","label","fullWidth","onChange","marginBottom","component","padding","active","direction","isItemSelected","hover","tagName","cursor","type_id","status_id","responsible_person","department_id","room","purchase_date","toLocaleDateString","size","stopPropagation","colSpan","align","rowsPerPageOptions","count","onPageChange","onRowsPerPageChange","labelRowsPerPage","labelDisplayedRows","from","to","onClose","autoFocus","autoHideDuration","sx","width","_c","$RefreshReg$"],"sources":["D:/it_inventory.localhost/frontend/src/components/AssetList.js"],"sourcesContent":["// frontend/src/components/AssetList.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Box,\r\n  TextField,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Button,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  Alert,\r\n  Snackbar,\r\n  TablePagination,\r\n  TableSortLabel\r\n} from '@mui/material';\r\nimport axios from 'axios';\r\nimport { API_BASE_URL } from '../config'; // Импорт базового URL\r\n\r\nconst AssetList = ({ currentUser }) => {\r\n  const [assets, setAssets] = useState([]);\r\n  const [filteredAssets, setFilteredAssets] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  // <<<--- ИЗМЕНЕНО: categories на types\r\n  const [types, setTypes] = useState([]); // Ранее categories\r\n  const [statuses, setStatuses] = useState([]);\r\n  const [departments, setDepartments] = useState([]);\r\n  const [employees, setEmployees] = useState([]);\r\n  const [selectedAssets, setSelectedAssets] = useState([]);\r\n  const [sortColumn, setSortColumn] = useState('inventory_number');\r\n  const [sortOrder, setSortOrder] = useState('asc');\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(50);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\r\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\r\n  const [assetToDelete, setAssetToDelete] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // Загрузка данных\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      setError('');\r\n      try {\r\n        // <<<--- ИЗМЕНЕНО: Использование withCredentials и API_BASE_URL\r\n        // <<<--- ИЗМЕНЕНО: /api/categories на /api/types\r\n        const [assetsRes, typesRes, statusesRes, departmentsRes, employeesRes] = await Promise.all([\r\n          axios.get(`${API_BASE_URL}/api/assets`, { withCredentials: true }),\r\n          axios.get(`${API_BASE_URL}/api/types`, { withCredentials: true }), // Ранее categories\r\n          axios.get(`${API_BASE_URL}/api/statuses`, { withCredentials: true }),\r\n          axios.get(`${API_BASE_URL}/api/departments`, { withCredentials: true }),\r\n          axios.get(`${API_BASE_URL}/api/employees`, { withCredentials: true }),\r\n        ]);\r\n\r\n        setAssets(assetsRes.data);\r\n        // <<<--- ИЗМЕНЕНО: setCategories на setTypes\r\n        setTypes(typesRes.data); // Ранее setCategories\r\n        setStatuses(statusesRes.data);\r\n        setDepartments(departmentsRes.data);\r\n        setEmployees(employeesRes.data);\r\n        setFilteredAssets(assetsRes.data);\r\n      } catch (err) {\r\n        console.error('Ошибка загрузки данных:', err);\r\n        // Проверим, связана ли ошибка с аутентификацией\r\n        if (err.response && err.response.status === 401) {\r\n           setError('Ошибка аутентификации. Пожалуйста, войдите снова.');\r\n        } else {\r\n           setError('Ошибка загрузки данных. Пожалуйста, попробуйте позже.');\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Фильтрация и сортировка\r\n  useEffect(() => {\r\n    let result = assets;\r\n\r\n    // Поиск\r\n    if (searchTerm) {\r\n      const term = searchTerm.toLowerCase();\r\n      result = result.filter(asset =>\r\n        (asset.inventory_number && asset.inventory_number.toLowerCase().includes(term)) ||\r\n        (asset.serial_number && asset.serial_number.toLowerCase().includes(term)) ||\r\n        (asset.brand && asset.brand.toLowerCase().includes(term)) ||\r\n        (asset.model && asset.model.toLowerCase().includes(term))\r\n        // Можно добавить поиск по другим полям\r\n      );\r\n    }\r\n\r\n    // Сортировка\r\n    result = [...result].sort((a, b) => {\r\n      let aValue = a[sortColumn];\r\n      let bValue = b[sortColumn];\r\n\r\n      // Для числовых значений и дат\r\n      if (sortColumn === 'purchase_date') {\r\n        aValue = aValue ? new Date(aValue) : new Date(0);\r\n        bValue = bValue ? new Date(bValue) : new Date(0);\r\n      } else if (typeof aValue === 'string') {\r\n        aValue = aValue.toLowerCase();\r\n        bValue = bValue.toLowerCase();\r\n      }\r\n\r\n      if (aValue < bValue) {\r\n        return sortOrder === 'asc' ? -1 : 1;\r\n      }\r\n      if (aValue > bValue) {\r\n        return sortOrder === 'asc' ? 1 : -1;\r\n      }\r\n      return 0;\r\n    });\r\n\r\n    setFilteredAssets(result);\r\n    setPage(0); // Сбросить на первую страницу после фильтрации\r\n  }, [assets, searchTerm, sortColumn, sortOrder]);\r\n\r\n  // Функции для получения имен по ID\r\n  // <<<--- ИЗМЕНЕНО: getCategoryName использует types вместо categories\r\n  const getTypeName = (typeId) => { // Ранее getCategoryName\r\n    const type = types.find(c => c.id === typeId); // Ранее categories\r\n    return type ? type.name : 'Не указано';\r\n  };\r\n\r\n  const getStatusName = (statusId) => {\r\n    const status = statuses.find(s => s.id === statusId);\r\n    return status ? status.name : 'Не указано';\r\n  };\r\n\r\n  const getDepartmentName = (deptId) => {\r\n    const dept = departments.find(d => d.id === deptId);\r\n    return dept ? dept.name : 'Не указано';\r\n  };\r\n\r\n  const getEmployeeName = (empId) => {\r\n    const emp = employees.find(e => e.id === empId);\r\n    return emp ? emp.name : 'Не указано';\r\n  };\r\n\r\n  // Сортировка\r\n  const handleSort = (column) => {\r\n    if (sortColumn === column) {\r\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortColumn(column);\r\n      setSortOrder('asc');\r\n    }\r\n  };\r\n\r\n  // Пагинация\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  // Выбор активов\r\n  const handleSelectAll = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelected = filteredAssets.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((asset) => asset.id);\r\n      setSelectedAssets(newSelected);\r\n    } else {\r\n      setSelectedAssets([]);\r\n    }\r\n  };\r\n\r\n  const handleSelectOne = (event, id) => {\r\n    const selectedIndex = selectedAssets.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selectedAssets, id);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selectedAssets.slice(1));\r\n    } else if (selectedIndex === selectedAssets.length - 1) {\r\n      newSelected = newSelected.concat(selectedAssets.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selectedAssets.slice(0, selectedIndex),\r\n        selectedAssets.slice(selectedIndex + 1),\r\n      );\r\n    }\r\n\r\n    setSelectedAssets(newSelected);\r\n  };\r\n\r\n  const isSelected = (id) => selectedAssets.indexOf(id) !== -1;\r\n\r\n  // Печать QR-кодов\r\n  const handlePrintQRCode = async () => {\r\n    if (selectedAssets.length === 0) {\r\n      setSnackbar({ open: true, message: 'Выберите хотя бы один актив', severity: 'warning' });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // <<<--- ИЗМЕНЕНО: Использование withCredentials и API_BASE_URL\r\n      const res = await axios.post(`${API_BASE_URL}/api/qrcodes`, {\r\n        ids: selectedAssets\r\n      }, { withCredentials: true });\r\n\r\n      const codes = res.data;\r\n\r\n      let htmlContent = `\r\n        <html>\r\n          <head>\r\n            <style>\r\n              @page {\r\n                size: A4;\r\n                margin: 0;\r\n              }\r\n\r\n              body {\r\n                width: 21cm;\r\n                padding: 0;\r\n                background-color: #fff;\r\n                font-family: Arial, sans-serif;\r\n              }\r\n\r\n              .page {\r\n                display: flex;\r\n                flex-wrap: wrap;\r\n                gap: 10px;\r\n                padding: 20px;\r\n                box-sizing: border-box;\r\n                page-break-after: always;\r\n                break-after: page;\r\n              }\r\n\r\n              .qr-wrapper {\r\n                width: 3cm;\r\n                height: 3cm;\r\n                position: relative;\r\n                text-align: center;\r\n                font-size: 10px;\r\n                box-sizing: border-box;\r\n                page-break-inside: avoid;\r\n                break-inside: avoid;\r\n              }\r\n\r\n              .qr-container {\r\n                width: 100%;\r\n                height: calc(100% - 20px); /* Оставляем место для текста */\r\n                display: flex;\r\n                justify-content: center;\r\n                align-items: center;\r\n              }\r\n\r\n              img {\r\n                max-width: 100%;\r\n                max-height: 100%;\r\n                object-fit: contain;\r\n              }\r\n\r\n              .text-top,\r\n              .text-bottom {\r\n                position: absolute;\r\n                left: 50%;\r\n                transform: translateX(-50%);\r\n                white-space: nowrap;\r\n                overflow: hidden;\r\n                text-overflow: ellipsis;\r\n                width: 90%;\r\n                font-size: 8px;\r\n              }\r\n\r\n              .text-top {\r\n                top: 0;\r\n              }\r\n\r\n              .text-bottom {\r\n                bottom: 0;\r\n              }\r\n            </style>\r\n          </head>\r\n          <body>\r\n      `;\r\n\r\n      // Группируем по 48 кодов на страницу\r\n      const itemsPerPage = 48;\r\n\r\n      for (let i = 0; i < codes.length; i += itemsPerPage) {\r\n        const pageItems = codes.slice(i, i + itemsPerPage);\r\n\r\n        htmlContent += `<div class=\"page\">`;\r\n\r\n        pageItems.forEach((code) => { // Исправлена ошибка: было (code, asset)\r\n          htmlContent += `\r\n            <div class=\"qr-wrapper\">\r\n              <div class=\"qr-container\">\r\n                <img src=\"data:image/png;base64,${code.qr_base64}\" />\r\n              </div>\r\n              <span class=\"text-top\">${code.full_name || ''}</span>\r\n              <span class=\"text-bottom\">${code.inventory_number || ''}</span>\r\n            </div>\r\n          `;\r\n        });\r\n\r\n        htmlContent += `</div>`;\r\n      }\r\n\r\n      htmlContent += '</body></html>';\r\n\r\n      const printWindow = window.open('', '_blank');\r\n      printWindow.document.write(htmlContent);\r\n\r\n      setTimeout(() => {\r\n        printWindow.print();\r\n        printWindow.close();\r\n      }, 500);\r\n    } catch (err) {\r\n      console.error('Ошибка при генерации QR-кодов:', err);\r\n      setSnackbar({ open: true, message: 'Не удалось получить QR-коды с сервера', severity: 'error' });\r\n    }\r\n  };\r\n\r\n  // Удаление актива\r\n  const handleDelete = async () => {\r\n    if (!assetToDelete) return;\r\n\r\n    try {\r\n      // <<<--- ИЗМЕНЕНО: Использование withCredentials и API_BASE_URL\r\n      await axios.delete(`${API_BASE_URL}/api/assets/${assetToDelete.id}`, { withCredentials: true });\r\n      setAssets(assets.filter(asset => asset.id !== assetToDelete.id));\r\n      setSnackbar({ open: true, message: 'Актив успешно удален', severity: 'success' });\r\n      setDeleteDialogOpen(false);\r\n      setAssetToDelete(null);\r\n    } catch (err) {\r\n      console.error('Ошибка при удалении актива:', err);\r\n      setSnackbar({ open: true, message: 'Ошибка при удалении актива', severity: 'error' });\r\n    }\r\n  };\r\n\r\n  const openDeleteDialog = (asset) => {\r\n    setAssetToDelete(asset);\r\n    setDeleteDialogOpen(true);\r\n  };\r\n\r\n  const closeDeleteDialog = () => {\r\n    setDeleteDialogOpen(false);\r\n    setAssetToDelete(null);\r\n  };\r\n\r\n  // Уведомления\r\n  const handleCloseSnackbar = () => {\r\n    setSnackbar({ ...snackbar, open: false });\r\n  };\r\n\r\n  // Пагинация\r\n  const paginatedAssets = filteredAssets.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\r\n  const isAllSelected = paginatedAssets.length > 0 && selectedAssets.length === paginatedAssets.length;\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container maxWidth=\"lg\" style={{ marginTop: '20px', textAlign: 'center' }}>\r\n        <Typography>Загрузка...</Typography>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container maxWidth=\"lg\" style={{ marginTop: '20px' }}>\r\n        <Alert severity=\"error\">{error}</Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"xl\" style={{ marginTop: '20px' }}>\r\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\r\n        <Typography variant=\"h5\" gutterBottom style={{ textAlign: 'center', fontSize: '30px' }}>\r\n          <strong>Оборудование</strong>\r\n        </Typography>\r\n        <Box>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handlePrintQRCode}\r\n            disabled={selectedAssets.length === 0}\r\n            style={{ marginRight: '10px' }}\r\n          >\r\n            Печать QR-кодов\r\n          </Button>\r\n          {currentUser && currentUser.role === 'admin' && (\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={() => navigate('/assets/add')}\r\n            >\r\n              Добавить\r\n            </Button>\r\n          )}\r\n        </Box>\r\n      </Box>\r\n\r\n      <TextField\r\n        label=\"Поиск\"\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        value={searchTerm}\r\n        onChange={(e) => setSearchTerm(e.target.value)}\r\n        style={{ marginBottom: '20px' }}\r\n      />\r\n\r\n      <TableContainer component={Paper}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell padding=\"checkbox\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={isAllSelected}\r\n                  onChange={handleSelectAll}\r\n                />\r\n              </TableCell>\r\n              <TableCell>\r\n                <TableSortLabel\r\n                  active={sortColumn === 'inventory_number'}\r\n                  direction={sortColumn === 'inventory_number' ? sortOrder : 'asc'}\r\n                  onClick={() => handleSort('inventory_number')}\r\n                >\r\n                  Инвентарный номер\r\n                </TableSortLabel>\r\n              </TableCell>\r\n              <TableCell>\r\n                <TableSortLabel\r\n                  active={sortColumn === 'serial_number'}\r\n                  direction={sortColumn === 'serial_number' ? sortOrder : 'asc'}\r\n                  onClick={() => handleSort('serial_number')}\r\n                >\r\n                  Серийный номер\r\n                </TableSortLabel>\r\n              </TableCell>\r\n              {/* <<<--- ИЗМЕНЕНО: Категория на Тип устройства */}\r\n              <TableCell>\r\n                <TableSortLabel\r\n                  active={sortColumn === 'type_id'} // Ранее category_id\r\n                  direction={sortColumn === 'type_id' ? sortOrder : 'asc'} // Ранее category_id\r\n                  onClick={() => handleSort('type_id')} // Ранее category_id\r\n                >\r\n                  Тип устройства {/* Ранее Категория */}\r\n                </TableSortLabel>\r\n              </TableCell>\r\n              <TableCell>\r\n                <TableSortLabel\r\n                  active={sortColumn === 'brand'}\r\n                  direction={sortColumn === 'brand' ? sortOrder : 'asc'}\r\n                  onClick={() => handleSort('brand')}\r\n                >\r\n                  Фирма\r\n                </TableSortLabel>\r\n              </TableCell>\r\n              <TableCell>\r\n                <TableSortLabel\r\n                  active={sortColumn === 'model'}\r\n                  direction={sortColumn === 'model' ? sortOrder : 'asc'}\r\n                  onClick={() => handleSort('model')}\r\n                >\r\n                  Модель\r\n                </TableSortLabel>\r\n              </TableCell>\r\n              <TableCell>\r\n                <TableSortLabel\r\n                  active={sortColumn === 'status_id'}\r\n                  direction={sortColumn === 'status_id' ? sortOrder : 'asc'}\r\n                  onClick={() => handleSort('status_id')}\r\n                >\r\n                  Статус\r\n                </TableSortLabel>\r\n              </TableCell>\r\n              <TableCell>\r\n                <TableSortLabel\r\n                  active={sortColumn === 'responsible_person'}\r\n                  direction={sortColumn === 'responsible_person' ? sortOrder : 'asc'}\r\n                  onClick={() => handleSort('responsible_person')}\r\n                >\r\n                  Ответственный\r\n                </TableSortLabel>\r\n              </TableCell>\r\n              <TableCell>\r\n                <TableSortLabel\r\n                  active={sortColumn === 'department_id'}\r\n                  direction={sortColumn === 'department_id' ? sortOrder : 'asc'}\r\n                  onClick={() => handleSort('department_id')}\r\n                >\r\n                  Отдел\r\n                </TableSortLabel>\r\n              </TableCell>\r\n              <TableCell>\r\n                <TableSortLabel\r\n                  active={sortColumn === 'room'}\r\n                  direction={sortColumn === 'room' ? sortOrder : 'asc'}\r\n                  onClick={() => handleSort('room')}\r\n                >\r\n                  Помещение\r\n                </TableSortLabel>\r\n              </TableCell>\r\n              <TableCell>\r\n                <TableSortLabel\r\n                  active={sortColumn === 'purchase_date'}\r\n                  direction={sortColumn === 'purchase_date' ? sortOrder : 'asc'}\r\n                  onClick={() => handleSort('purchase_date')}\r\n                >\r\n                  Дата покупки\r\n                </TableSortLabel>\r\n              </TableCell>\r\n              {currentUser && currentUser.role === 'admin' && <TableCell>Действия</TableCell>}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {paginatedAssets.length > 0 ? (\r\n              paginatedAssets.map((asset) => {\r\n                const isItemSelected = isSelected(asset.id);\r\n                return (\r\n                  <TableRow\r\n                    key={asset.id}\r\n                    hover\r\n                    onClick={(event) => {\r\n                      if (event.target.type !== 'checkbox' && event.target.tagName !== 'BUTTON') {\r\n                        navigate(`/assets/${asset.id}`);\r\n                      }\r\n                    }}\r\n                    style={{ cursor: 'pointer' }}\r\n                  >\r\n                    <TableCell padding=\"checkbox\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={isItemSelected}\r\n                        onChange={(event) => handleSelectOne(event, asset.id)}\r\n                      />\r\n                    </TableCell>\r\n                    <TableCell>{asset.inventory_number}</TableCell>\r\n                    <TableCell>{asset.serial_number || '-'}</TableCell>\r\n                    {/* <<<--- ИЗМЕНЕНО: Отображение типа устройства */}\r\n                    <TableCell>{getTypeName(asset.type_id) || '-'}</TableCell> {/* Ранее getCategoryName(asset.category_id) */}\r\n                    <TableCell>{asset.brand || '-'}</TableCell>\r\n                    <TableCell>{asset.model || '-'}</TableCell>\r\n                    <TableCell>{getStatusName(asset.status_id) || '-'}</TableCell>\r\n                    <TableCell>{getEmployeeName(asset.responsible_person) || '-'}</TableCell>\r\n                    <TableCell>{getDepartmentName(asset.department_id) || '-'}</TableCell>\r\n                    <TableCell>{asset.room || '-'}</TableCell>\r\n                    <TableCell>\r\n                      {asset.purchase_date ? new Date(asset.purchase_date).toLocaleDateString() : '-'}\r\n                    </TableCell>\r\n                    {currentUser && currentUser.role === 'admin' && (\r\n                      <TableCell>\r\n                        <Button\r\n                          variant=\"outlined\"\r\n                          size=\"small\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            navigate(`/assets/${asset.id}`);\r\n                          }}\r\n                          style={{ marginRight: '5px' }}\r\n                        >\r\n                          Редактировать\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"outlined\"\r\n                          color=\"error\"\r\n                          size=\"small\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            openDeleteDialog(asset);\r\n                          }}\r\n                        >\r\n                          Удалить\r\n                        </Button>\r\n                      </TableCell>\r\n                    )}\r\n                  </TableRow>\r\n                );\r\n              })\r\n            ) : (\r\n              <TableRow>\r\n                <TableCell colSpan={currentUser && currentUser.role === 'admin' ? 12 : 11} align=\"center\">\r\n                  Нет данных\r\n                </TableCell>\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n\r\n      <TablePagination\r\n        rowsPerPageOptions={[10, 25, 50, 100]}\r\n        component=\"div\"\r\n        count={filteredAssets.length}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        onPageChange={handleChangePage}\r\n        onRowsPerPageChange={handleChangeRowsPerPage}\r\n        labelRowsPerPage=\"Строк на странице:\"\r\n        labelDisplayedRows={({ from, to, count }) => `${from}-${to} из ${count}`}\r\n      />\r\n\r\n      {/* Диалог подтверждения удаления */}\r\n      <Dialog\r\n        open={deleteDialogOpen}\r\n        onClose={closeDeleteDialog}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n          {\"Подтвердите удаление\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            Вы уверены, что хотите удалить актив \"{assetToDelete?.inventory_number}\"?\r\n            Это действие нельзя отменить.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={closeDeleteDialog} color=\"primary\">\r\n            Отмена\r\n          </Button>\r\n          <Button onClick={handleDelete} color=\"error\" autoFocus>\r\n            Удалить\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Уведомления */}\r\n      <Snackbar open={snackbar.open} autoHideDuration={6000} onClose={handleCloseSnackbar}>\r\n        <Alert onClose={handleCloseSnackbar} severity={snackbar.severity} sx={{ width: '100%' }}>\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AssetList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}